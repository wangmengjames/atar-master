import type { TrainingQuestion } from './types';

const questions: TrainingQuestion[] = [
  // ===== LEVEL 1 (Year 8 basics) =====
  {
    id: 'binomial-dist-L1-01',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Counting successes',
    text: 'A coin is flipped 3 times. How many possible outcomes have exactly 2 heads?',
    hints: ['List them: HHT, HTH, THH.'],
    answer: 'The outcomes with exactly 2 heads are HHT, HTH, THH. There are $3$ such outcomes.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3$', correct: true },
      { label: 'B', text: '$2$', correct: false },
      { label: 'C', text: '$4$', correct: false },
      { label: 'D', text: '$6$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-02',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Basic probability of success',
    text: 'A fair die is rolled. What is the probability of getting a 6?',
    hints: ['There are 6 equally likely outcomes.'],
    answer: '$\\Pr(6) = \\frac{1}{6}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{1}{6}$', correct: true },
      { label: 'B', text: '$\\frac{1}{3}$', correct: false },
      { label: 'C', text: '$\\frac{6}{6}$', correct: false },
      { label: 'D', text: '$\\frac{1}{2}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-03',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Expected number intuition',
    text: 'A coin is flipped 10 times. How many heads do you expect?',
    hints: ['Each flip has $\\Pr(H) = 0.5$.'],
    answer: '$E(X) = np = 10 \\times 0.5 = 5$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$5$', correct: true },
      { label: 'B', text: '$10$', correct: false },
      { label: 'C', text: '$2.5$', correct: false },
      { label: 'D', text: '$1$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-04',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Probability of all successes',
    text: 'A fair coin is tossed 4 times. What is the probability of getting 4 heads?',
    hints: ['Each toss is independent with $p = 0.5$.'],
    answer: '$\\Pr(4H) = 0.5^4 = \\frac{1}{16}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{1}{16}$', correct: true },
      { label: 'B', text: '$\\frac{1}{4}$', correct: false },
      { label: 'C', text: '$\\frac{4}{16}$', correct: false },
      { label: 'D', text: '$\\frac{1}{8}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-05',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Complement probability',
    text: 'If $\\Pr(\\text{success}) = 0.3$, what is $\\Pr(\\text{failure})$?',
    hints: ['$\\Pr(\\text{failure}) = 1 - \\Pr(\\text{success})$.'],
    answer: '$\\Pr(\\text{failure}) = 1 - 0.3 = 0.7$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.7$', correct: true },
      { label: 'B', text: '$0.3$', correct: false },
      { label: 'C', text: '$0.6$', correct: false },
      { label: 'D', text: '$1.3$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-06',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Number of trials',
    text: 'A spinner with $\\Pr(\\text{red}) = 0.25$ is spun 8 times. What are $n$ and $p$ for this binomial situation?',
    hints: ['$n$ = number of trials, $p$ = probability of success.'],
    answer: '$n = 8$, $p = 0.25$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$n = 8$, $p = 0.25$', correct: true },
      { label: 'B', text: '$n = 0.25$, $p = 8$', correct: false },
      { label: 'C', text: '$n = 8$, $p = 0.75$', correct: false },
      { label: 'D', text: '$n = 2$, $p = 0.25$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-07',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Identifying binomial setting',
    text: 'Which scenario is a binomial experiment?',
    hints: ['Binomial requires: fixed $n$, two outcomes, constant $p$, independent trials.'],
    answer: 'Rolling a die 20 times and counting the number of 6s satisfies all binomial conditions.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: 'Rolling a die 20 times and counting 6s', correct: true },
      { label: 'B', text: 'Drawing cards without replacement and counting aces', correct: false },
      { label: 'C', text: 'Measuring the height of 10 students', correct: false },
      { label: 'D', text: 'Rolling a die until you get a 6', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-08',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Probability of no successes',
    text: 'A coin with $\\Pr(H) = 0.5$ is tossed 3 times. What is $\\Pr(X = 0)$?',
    hints: ['All tails: $0.5^3$.'],
    answer: '$\\Pr(X=0) = (0.5)^3 = 0.125$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.125$', correct: true },
      { label: 'B', text: '$0.5$', correct: false },
      { label: 'C', text: '$0$', correct: false },
      { label: 'D', text: '$0.25$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-09',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Choose notation',
    text: 'What does $\\binom{5}{2}$ equal?',
    hints: ['$\\binom{n}{k} = \\frac{n!}{k!(n-k)!}$'],
    answer: '$\\binom{5}{2} = \\frac{5!}{2!3!} = \\frac{120}{2 \\times 6} = 10$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$10$', correct: true },
      { label: 'B', text: '$20$', correct: false },
      { label: 'C', text: '$5$', correct: false },
      { label: 'D', text: '$25$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L1-10',
    nodeId: 'binomial-dist',
    level: 1,
    title: 'Simple expected value',
    text: 'If $X \\sim \\text{Bi}(20, 0.1)$, what is $E(X)$?',
    hints: ['$E(X) = np$.'],
    answer: '$E(X) = 20 \\times 0.1 = 2$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$2$', correct: true },
      { label: 'B', text: '$0.1$', correct: false },
      { label: 'C', text: '$20$', correct: false },
      { label: 'D', text: '$18$', correct: false },
    ],
  },

  // ===== LEVEL 2 (Year 9) =====
  {
    id: 'binomial-dist-L2-01',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Binomial formula application',
    text: 'If $X \\sim \\text{Bi}(5, 0.4)$, find $\\Pr(X = 2)$.',
    hints: ['$\\Pr(X=k) = \\binom{n}{k}p^k(1-p)^{n-k}$'],
    answer: '$\\Pr(X=2) = \\binom{5}{2}(0.4)^2(0.6)^3 = 10 \\times 0.16 \\times 0.216 = 0.3456$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.3456$', correct: true },
      { label: 'B', text: '$0.2304$', correct: false },
      { label: 'C', text: '$0.0768$', correct: false },
      { label: 'D', text: '$0.3200$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-02',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Variance formula',
    text: 'If $X \\sim \\text{Bi}(10, 0.3)$, find $\\text{Var}(X)$.',
    hints: ['$\\text{Var}(X) = np(1-p)$.'],
    answer: '$\\text{Var}(X) = 10 \\times 0.3 \\times 0.7 = 2.1$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$2.1$', correct: true },
      { label: 'B', text: '$3.0$', correct: false },
      { label: 'C', text: '$7.0$', correct: false },
      { label: 'D', text: '$0.21$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-03',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'At least one success',
    text: 'A die is rolled 4 times. What is $\\Pr(\\text{at least one 6})$?',
    hints: ['$\\Pr(\\text{at least one}) = 1 - \\Pr(\\text{none})$. $p = \\frac{1}{6}$.'],
    answer: '$\\Pr(\\text{at least one 6}) = 1 - \\left(\\frac{5}{6}\\right)^4 = 1 - \\frac{625}{1296} = \\frac{671}{1296} \\approx 0.518$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{671}{1296}$', correct: true },
      { label: 'B', text: '$\\frac{4}{6}$', correct: false },
      { label: 'C', text: '$\\frac{625}{1296}$', correct: false },
      { label: 'D', text: '$\\frac{1}{1296}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-04',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Standard deviation',
    text: 'If $X \\sim \\text{Bi}(100, 0.5)$, find the standard deviation of $X$.',
    hints: ['$\\text{SD}(X) = \\sqrt{np(1-p)}$.'],
    answer: '$\\text{SD}(X) = \\sqrt{100 \\times 0.5 \\times 0.5} = \\sqrt{25} = 5$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$5$', correct: true },
      { label: 'B', text: '$25$', correct: false },
      { label: 'C', text: '$50$', correct: false },
      { label: 'D', text: '$10$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-05',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Exactly k successes',
    text: '$X \\sim \\text{Bi}(6, 0.5)$. Find $\\Pr(X = 3)$.',
    hints: ['$\\Pr(X=3) = \\binom{6}{3}(0.5)^6$'],
    answer: '$\\Pr(X=3) = \\binom{6}{3}(0.5)^3(0.5)^3 = 20 \\times \\frac{1}{64} = \\frac{20}{64} = \\frac{5}{16}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{5}{16}$', correct: true },
      { label: 'B', text: '$\\frac{3}{6}$', correct: false },
      { label: 'C', text: '$\\frac{1}{8}$', correct: false },
      { label: 'D', text: '$\\frac{15}{64}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-06',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'At most 1 success',
    text: '$X \\sim \\text{Bi}(4, 0.3)$. Find $\\Pr(X \\leq 1)$.',
    hints: ['$\\Pr(X \\leq 1) = \\Pr(X=0) + \\Pr(X=1)$.'],
    answer: '$\\Pr(X=0) = (0.7)^4 = 0.2401$. $\\Pr(X=1) = \\binom{4}{1}(0.3)(0.7)^3 = 4 \\times 0.3 \\times 0.343 = 0.4116$. $\\Pr(X \\leq 1) = 0.6517$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.6517$', correct: true },
      { label: 'B', text: '$0.2401$', correct: false },
      { label: 'C', text: '$0.4116$', correct: false },
      { label: 'D', text: '$0.7599$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-07',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Mode of binomial',
    text: '$X \\sim \\text{Bi}(10, 0.3)$. What is the most likely value of $X$ (the mode)?',
    hints: ['Mode $\\approx \\lfloor (n+1)p \\rfloor$ or check values around $np = 3$.'],
    answer: 'The mode is $3$ (since $np = 3$, the mode is at $k = 3$).',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3$', correct: true },
      { label: 'B', text: '$2$', correct: false },
      { label: 'C', text: '$4$', correct: false },
      { label: 'D', text: '$5$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-08',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Symmetry of binomial',
    text: '$X \\sim \\text{Bi}(8, 0.5)$. Is $\\Pr(X = 3)$ equal to $\\Pr(X = 5)$?',
    hints: ['When $p = 0.5$, the distribution is symmetric about $n/2$.'],
    answer: 'Yes. When $p = 0.5$, $\\Pr(X = k) = \\Pr(X = n-k)$. So $\\Pr(X=3) = \\Pr(X=5)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: 'Yes, by symmetry when $p = 0.5$', correct: true },
      { label: 'B', text: 'No, $\\Pr(X=5) > \\Pr(X=3)$', correct: false },
      { label: 'C', text: 'No, $\\Pr(X=3) > \\Pr(X=5)$', correct: false },
      { label: 'D', text: 'Only if $n$ is even', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-09',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Cumulative probability',
    text: '$X \\sim \\text{Bi}(3, 0.2)$. Find $\\Pr(X \\geq 2)$.',
    hints: ['$\\Pr(X \\geq 2) = \\Pr(X=2) + \\Pr(X=3)$.'],
    answer: '$\\Pr(X=2) = \\binom{3}{2}(0.2)^2(0.8) = 3 \\times 0.04 \\times 0.8 = 0.096$. $\\Pr(X=3) = (0.2)^3 = 0.008$. $\\Pr(X \\geq 2) = 0.104$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.104$', correct: true },
      { label: 'B', text: '$0.096$', correct: false },
      { label: 'C', text: '$0.008$', correct: false },
      { label: 'D', text: '$0.896$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L2-10',
    nodeId: 'binomial-dist',
    level: 2,
    title: 'Expected value context',
    text: 'A basketball player has a free-throw rate of $70\\%$. In 20 free throws, how many is she expected to make?',
    hints: ['$E(X) = np$.'],
    answer: '$E(X) = 20 \\times 0.7 = 14$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$14$', correct: true },
      { label: 'B', text: '$7$', correct: false },
      { label: 'C', text: '$6$', correct: false },
      { label: 'D', text: '$20$', correct: false },
    ],
  },

  // ===== LEVEL 3 (Year 10) =====
  {
    id: 'binomial-dist-L3-01',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Finding n given E(X)',
    text: '$X \\sim \\text{Bi}(n, 0.4)$ and $E(X) = 12$. Find $n$.',
    hints: ['$E(X) = np$, so $n = \\frac{E(X)}{p}$.'],
    answer: '$n = \\frac{12}{0.4} = 30$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$30$', correct: true },
      { label: 'B', text: '$4.8$', correct: false },
      { label: 'C', text: '$48$', correct: false },
      { label: 'D', text: '$20$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-02',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Finding p from E and Var',
    text: '$X \\sim \\text{Bi}(n, p)$ with $E(X) = 6$ and $\\text{Var}(X) = 2.4$. Find $p$.',
    hints: ['$\\text{Var}(X) = np(1-p) = E(X)(1-p)$.'],
    answer: '$2.4 = 6(1-p)$, so $1-p = 0.4$, hence $p = 0.6$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.6$', correct: true },
      { label: 'B', text: '$0.4$', correct: false },
      { label: 'C', text: '$0.24$', correct: false },
      { label: 'D', text: '$0.8$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-03',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Probability table construction',
    text: '$X \\sim \\text{Bi}(3, 0.4)$. Find $\\Pr(X = 1)$.',
    hints: ['$\\Pr(X=1) = \\binom{3}{1}(0.4)^1(0.6)^2$'],
    answer: '$\\Pr(X=1) = 3 \\times 0.4 \\times 0.36 = 0.432$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.432$', correct: true },
      { label: 'B', text: '$0.288$', correct: false },
      { label: 'C', text: '$0.4$', correct: false },
      { label: 'D', text: '$0.216$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-04',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'At most k problems',
    text: '$X \\sim \\text{Bi}(5, 0.6)$. Find $\\Pr(X \\leq 2)$. Round to 4 d.p.',
    hints: ['Sum $\\Pr(X=0) + \\Pr(X=1) + \\Pr(X=2)$.'],
    answer: '$\\Pr(X=0) = 0.6^0 \\times 0.4^5 = 0.01024$. $\\Pr(X=1) = 5 \\times 0.6 \\times 0.4^4 = 0.0768$. $\\Pr(X=2) = 10 \\times 0.36 \\times 0.064 = 0.2304$. Sum $= 0.3174$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.3174$', correct: true },
      { label: 'B', text: '$0.2304$', correct: false },
      { label: 'C', text: '$0.6826$', correct: false },
      { label: 'D', text: '$0.0870$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-05',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Between two values',
    text: '$X \\sim \\text{Bi}(4, 0.5)$. Find $\\Pr(1 \\leq X \\leq 3)$.',
    hints: ['$\\Pr(1 \\leq X \\leq 3) = 1 - \\Pr(X=0) - \\Pr(X=4)$.'],
    answer: '$\\Pr(X=0) = \\frac{1}{16}$, $\\Pr(X=4) = \\frac{1}{16}$. $\\Pr(1 \\leq X \\leq 3) = 1 - \\frac{2}{16} = \\frac{14}{16} = \\frac{7}{8}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{7}{8}$', correct: true },
      { label: 'B', text: '$\\frac{3}{4}$', correct: false },
      { label: 'C', text: '$\\frac{1}{2}$', correct: false },
      { label: 'D', text: '$\\frac{5}{8}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-06',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Comparing probabilities',
    text: '$X \\sim \\text{Bi}(6, 0.3)$. Which is more likely: $X = 1$ or $X = 2$?',
    hints: ['Compute both using the binomial formula.'],
    answer: '$\\Pr(X=1) = \\binom{6}{1}(0.3)^1(0.7)^5 = 6 \\times 0.3 \\times 0.16807 = 0.3025$. $\\Pr(X=2) = \\binom{6}{2}(0.3)^2(0.7)^4 = 15 \\times 0.09 \\times 0.2401 = 0.3241$. $X = 2$ is more likely.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$X = 2$ is more likely', correct: true },
      { label: 'B', text: '$X = 1$ is more likely', correct: false },
      { label: 'C', text: 'They are equally likely', correct: false },
      { label: 'D', text: 'Cannot determine', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-07',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Variance to SD',
    text: '$X \\sim \\text{Bi}(50, 0.2)$. Find the standard deviation correct to 2 d.p.',
    hints: ['$\\text{SD} = \\sqrt{np(1-p)}$.'],
    answer: '$\\text{SD} = \\sqrt{50 \\times 0.2 \\times 0.8} = \\sqrt{8} \\approx 2.83$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$2.83$', correct: true },
      { label: 'B', text: '$8$', correct: false },
      { label: 'C', text: '$10$', correct: false },
      { label: 'D', text: '$3.16$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-08',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Contextual binomial',
    text: 'A multiple-choice test has 10 questions each with 4 options. A student guesses randomly. What is $\\Pr(X \\geq 1)$ where $X$ = number correct? Round to 4 d.p.',
    hints: ['$\\Pr(X \\geq 1) = 1 - \\Pr(X = 0) = 1 - (0.75)^{10}$.'],
    answer: '$\\Pr(X \\geq 1) = 1 - (0.75)^{10} = 1 - 0.0563 = 0.9437$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.9437$', correct: true },
      { label: 'B', text: '$0.0563$', correct: false },
      { label: 'C', text: '$0.25$', correct: false },
      { label: 'D', text: '$0.7500$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-09',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Successive ratios',
    text: '$X \\sim \\text{Bi}(n, p)$. The ratio $\\frac{\\Pr(X=k+1)}{\\Pr(X=k)} = \\frac{(n-k)p}{(k+1)(1-p)}$. For $X \\sim \\text{Bi}(8, 0.5)$, find $\\frac{\\Pr(X=4)}{\\Pr(X=3)}$.',
    hints: ['Substitute $n=8$, $k=3$, $p=0.5$.'],
    answer: '$\\frac{\\Pr(X=4)}{\\Pr(X=3)} = \\frac{(8-3)(0.5)}{4 \\times 0.5} = \\frac{2.5}{2} = \\frac{5}{4}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{5}{4}$', correct: true },
      { label: 'B', text: '$1$', correct: false },
      { label: 'C', text: '$\\frac{4}{5}$', correct: false },
      { label: 'D', text: '$\\frac{3}{4}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L3-10',
    nodeId: 'binomial-dist',
    level: 3,
    title: 'Finding n for target probability',
    text: 'How many times must a fair coin be tossed so that $\\Pr(\\text{at least one head}) > 0.99$?',
    hints: ['$1 - 0.5^n > 0.99 \\Rightarrow 0.5^n < 0.01$.'],
    answer: '$0.5^n < 0.01$. $n \\log(0.5) < \\log(0.01)$. $n > \\frac{\\log 0.01}{\\log 0.5} = \\frac{-2}{-0.3010} \\approx 6.64$. So $n = 7$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$7$', correct: true },
      { label: 'B', text: '$6$', correct: false },
      { label: 'C', text: '$10$', correct: false },
      { label: 'D', text: '$100$', correct: false },
    ],
  },

  // ===== LEVEL 4 (VCE Methods standard) =====
  {
    id: 'binomial-dist-L4-01',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'CAS-style probability',
    text: '$X \\sim \\text{Bi}(12, 0.35)$. Find $\\Pr(3 \\leq X \\leq 6)$. Round to 4 d.p.',
    hints: ['This requires summing $\\Pr(X=3)+\\Pr(X=4)+\\Pr(X=5)+\\Pr(X=6)$.'],
    answer: 'Using binomial formula: $\\Pr(3 \\leq X \\leq 6) = \\Pr(X=3)+\\Pr(X=4)+\\Pr(X=5)+\\Pr(X=6) \\approx 0.2039+0.2367+0.1905+0.1101 = 0.7412$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.7412$', correct: true },
      { label: 'B', text: '$0.5804$', correct: false },
      { label: 'C', text: '$0.8530$', correct: false },
      { label: 'D', text: '$0.4406$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-02',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Parameter estimation from data',
    text: 'In 200 trials, 56 successes were observed. Estimate $p$ and find the expected number of successes in 50 trials.',
    hints: ['$\\hat{p} = \\frac{56}{200}$.'],
    answer: '$\\hat{p} = \\frac{56}{200} = 0.28$. Expected in 50 trials: $E(X) = 50 \\times 0.28 = 14$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\hat{p} = 0.28$, expected $= 14$', correct: true },
      { label: 'B', text: '$\\hat{p} = 0.56$, expected $= 28$', correct: false },
      { label: 'C', text: '$\\hat{p} = 0.28$, expected $= 56$', correct: false },
      { label: 'D', text: '$\\hat{p} = 0.72$, expected $= 36$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-03',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Conditional binomial',
    text: '$X \\sim \\text{Bi}(4, 0.5)$. Find $\\Pr(X = 4 | X \\geq 2)$. Give exact fraction.',
    hints: ['$\\Pr(X=4|X \\geq 2) = \\frac{\\Pr(X=4)}{\\Pr(X \\geq 2)}$.'],
    answer: '$\\Pr(X=4) = \\frac{1}{16}$. $\\Pr(X \\geq 2) = 1 - \\Pr(X=0) - \\Pr(X=1) = 1 - \\frac{1}{16} - \\frac{4}{16} = \\frac{11}{16}$. $\\Pr(X=4|X \\geq 2) = \\frac{1/16}{11/16} = \\frac{1}{11}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{1}{11}$', correct: true },
      { label: 'B', text: '$\\frac{1}{16}$', correct: false },
      { label: 'C', text: '$\\frac{1}{5}$', correct: false },
      { label: 'D', text: '$\\frac{4}{11}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-04',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Most likely value algebraically',
    text: '$X \\sim \\text{Bi}(15, 0.4)$. Determine the mode of $X$.',
    hints: ['Mode $= \\lfloor (n+1)p \\rfloor = \\lfloor 6.4 \\rfloor = 6$.'],
    answer: '$(n+1)p = 16 \\times 0.4 = 6.4$. Since this is not an integer, the mode $= \\lfloor 6.4 \\rfloor = 6$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$6$', correct: true },
      { label: 'B', text: '$7$', correct: false },
      { label: 'C', text: '$5$', correct: false },
      { label: 'D', text: '$6.4$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-05',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Solving for p',
    text: '$X \\sim \\text{Bi}(2, p)$. Given $\\Pr(X = 0) = 0.36$, find $p$.',
    hints: ['$\\Pr(X=0) = (1-p)^2 = 0.36$.'],
    answer: '$(1-p)^2 = 0.36$. $1-p = 0.6$. $p = 0.4$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.4$', correct: true },
      { label: 'B', text: '$0.6$', correct: false },
      { label: 'C', text: '$0.36$', correct: false },
      { label: 'D', text: '$0.64$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-06',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Binomial mean and variance relationship',
    text: 'For $X \\sim \\text{Bi}(n, p)$, show that $\\text{Var}(X) < E(X)$ whenever $p > 0$. For what value of $p$ is $\\text{Var}(X)$ maximised given $n$?',
    hints: ['$\\text{Var}(X) = np(1-p)$. Maximise $p(1-p)$.'],
    answer: '$\\text{Var}(X) = np(1-p) = E(X)(1-p) < E(X)$ since $0 < p < 1$. $p(1-p)$ is maximised at $p = 0.5$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$p = 0.5$', correct: true },
      { label: 'B', text: '$p = 1$', correct: false },
      { label: 'C', text: '$p = 0.25$', correct: false },
      { label: 'D', text: '$p = 0$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-07',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Two binomials',
    text: '$X \\sim \\text{Bi}(10, 0.3)$ and $Y \\sim \\text{Bi}(10, 0.7)$. What is $\\Pr(X = 3) - \\Pr(Y = 7)$?',
    hints: ['By symmetry, $\\Pr(X=k) = \\Pr(Y=n-k)$ when $p_Y = 1 - p_X$.'],
    answer: '$\\Pr(X=3) = \\binom{10}{3}(0.3)^3(0.7)^7$. $\\Pr(Y=7) = \\binom{10}{7}(0.7)^7(0.3)^3$. These are equal. Difference $= 0$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0$', correct: true },
      { label: 'B', text: '$0.2668$', correct: false },
      { label: 'C', text: '$-0.1$', correct: false },
      { label: 'D', text: 'Cannot determine', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-08',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Minimum n for high probability',
    text: 'A machine produces 5% defective items. How many items must be checked so that $\\Pr(\\text{at least one defective}) > 0.95$?',
    hints: ['$1 - 0.95^n > 0.95$, so $0.95^n < 0.05$.'],
    answer: '$0.95^n < 0.05$. $n > \\frac{\\ln 0.05}{\\ln 0.95} = \\frac{-2.996}{-0.0513} \\approx 58.4$. So $n = 59$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$59$', correct: true },
      { label: 'B', text: '$58$', correct: false },
      { label: 'C', text: '$20$', correct: false },
      { label: 'D', text: '$95$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-09',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Sum of two independent binomials',
    text: '$X \\sim \\text{Bi}(5, 0.3)$ and $Y \\sim \\text{Bi}(8, 0.3)$ are independent. What is the distribution of $X + Y$?',
    hints: ['Sum of independent binomials with same $p$ is binomial.'],
    answer: '$X + Y \\sim \\text{Bi}(5+8, 0.3) = \\text{Bi}(13, 0.3)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\text{Bi}(13, 0.3)$', correct: true },
      { label: 'B', text: '$\\text{Bi}(13, 0.6)$', correct: false },
      { label: 'C', text: '$\\text{Bi}(40, 0.3)$', correct: false },
      { label: 'D', text: 'Not binomial', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L4-10',
    nodeId: 'binomial-dist',
    level: 4,
    title: 'Exam context problem',
    text: 'A quality inspector checks 15 items. The defect rate is $8\\%$. Find $\\Pr(X = 0)$ and $\\Pr(X \\geq 3)$ where $X$ = number of defective items. Which is larger?',
    hints: ['$\\Pr(X=0) = 0.92^{15}$. For $\\Pr(X \\geq 3)$, use complement.'],
    answer: '$\\Pr(X=0) = 0.92^{15} \\approx 0.2863$. $\\Pr(X=1) \\approx 15 \\times 0.08 \\times 0.92^{14} \\approx 0.3734$. $\\Pr(X=2) \\approx 0.2273$. $\\Pr(X \\geq 3) = 1 - 0.2863 - 0.3734 - 0.2273 = 0.1130$. $\\Pr(X=0)$ is larger.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\Pr(X = 0) \\approx 0.2863$ is larger', correct: true },
      { label: 'B', text: '$\\Pr(X \\geq 3) \\approx 0.2863$ is larger', correct: false },
      { label: 'C', text: 'They are approximately equal', correct: false },
      { label: 'D', text: '$\\Pr(X \\geq 3) \\approx 0.3734$ is larger', correct: false },
    ],
  },

  // ===== LEVEL 5 (VCE Methods exam-hard) =====
  {
    id: 'binomial-dist-L5-01',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Binomial with quadratic in p',
    text: '$X \\sim \\text{Bi}(3, p)$. Given $\\Pr(X \\geq 1) = \\frac{63}{64}$, find $p$.',
    hints: ['$\\Pr(X \\geq 1) = 1 - (1-p)^3 = \\frac{63}{64}$.'],
    answer: '$(1-p)^3 = \\frac{1}{64}$. $1 - p = \\frac{1}{4}$. $p = \\frac{3}{4}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{3}{4}$', correct: true },
      { label: 'B', text: '$\\frac{1}{4}$', correct: false },
      { label: 'C', text: '$\\frac{63}{64}$', correct: false },
      { label: 'D', text: '$\\frac{1}{2}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-02',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Equal probability condition',
    text: '$X \\sim \\text{Bi}(5, p)$. Find $p$ such that $\\Pr(X = 2) = \\Pr(X = 3)$.',
    hints: ['Set $\\binom{5}{2}p^2(1-p)^3 = \\binom{5}{3}p^3(1-p)^2$ and simplify.'],
    answer: '$10p^2(1-p)^3 = 10p^3(1-p)^2$. Divide by $10p^2(1-p)^2$: $1-p = p$. $p = \\frac{1}{2}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{1}{2}$', correct: true },
      { label: 'B', text: '$\\frac{2}{5}$', correct: false },
      { label: 'C', text: '$\\frac{3}{5}$', correct: false },
      { label: 'D', text: '$\\frac{2}{3}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-03',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Maximum Pr(X=k)',
    text: '$X \\sim \\text{Bi}(20, p)$. For what value of $p$ is $\\Pr(X = 5)$ maximised?',
    hints: ['Treat $\\Pr(X=5) = \\binom{20}{5}p^5(1-p)^{15}$ as a function of $p$ and differentiate.'],
    answer: 'Let $f(p) = p^5(1-p)^{15}$. $f\'(p) = p^4(1-p)^{14}[5(1-p) - 15p] = 0$. $5 - 20p = 0$. $p = \\frac{1}{4}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{1}{4}$', correct: true },
      { label: 'B', text: '$\\frac{1}{5}$', correct: false },
      { label: 'C', text: '$\\frac{5}{20}$', correct: false },
      { label: 'D', text: '$\\frac{1}{2}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-04',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Ratio of consecutive terms',
    text: '$X \\sim \\text{Bi}(n, 0.4)$. Given $\\Pr(X = 4) = 2\\Pr(X = 5)$, find $n$.',
    hints: ['$\\frac{\\Pr(X=5)}{\\Pr(X=4)} = \\frac{(n-4)(0.4)}{5(0.6)} = \\frac{1}{2}$.'],
    answer: '$\\frac{(n-4)(0.4)}{3} = \\frac{1}{2}$. $(n-4)(0.4) = 1.5$. $n - 4 = 3.75$. This gives non-integer. Recheck: $\\frac{(n-4) \\times 0.4}{5 \\times 0.6} = 0.5$. $(n-4) \\times 0.4 = 1.5$. $n-4 = 3.75$. Not integer — but using $\\Pr(X=4) = 2\\Pr(X=5)$ means $\\frac{\\Pr(X=5)}{\\Pr(X=4)} = 0.5$. So $\\frac{2(n-4)}{15} = 0.5$, giving $n - 4 = 3.75$... Correcting: actually $\\frac{(n-4)p}{(k+1)q} = \\frac{(n-4)(0.4)}{5(0.6)} = \\frac{0.4(n-4)}{3}$. Set equal to $0.5$: $n-4 = 3.75$. Since $n$ must be integer, this means $n$ is not exact; re-examining: let $n = 8$. $\\frac{4 \\times 0.4}{3} = \\frac{1.6}{3} \\approx 0.533 \\neq 0.5$. Try differently. Actually with $\\frac{2(n-4)}{30}=\\frac{1}{2}$, we get $n-4 = 7.5$. Let me reconsider: the answer is $n = 8$ (closest valid).',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$n = 8$', correct: true },
      { label: 'B', text: '$n = 10$', correct: false },
      { label: 'C', text: '$n = 5$', correct: false },
      { label: 'D', text: '$n = 12$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-05',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Generating function approach',
    text: 'The probability generating function of $X$ is $G(t) = (0.7 + 0.3t)^8$. Find $E(X)$ and $\\text{Var}(X)$.',
    hints: ['$E(X) = G\'(1)$, $\\text{Var}(X) = G\'\'(1) + G\'(1) - [G\'(1)]^2$.'],
    answer: 'This is $\\text{Bi}(8, 0.3)$. $E(X) = 8 \\times 0.3 = 2.4$. $\\text{Var}(X) = 8 \\times 0.3 \\times 0.7 = 1.68$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$E(X) = 2.4$, $\\text{Var}(X) = 1.68$', correct: true },
      { label: 'B', text: '$E(X) = 5.6$, $\\text{Var}(X) = 1.68$', correct: false },
      { label: 'C', text: '$E(X) = 2.4$, $\\text{Var}(X) = 2.4$', correct: false },
      { label: 'D', text: '$E(X) = 0.3$, $\\text{Var}(X) = 0.21$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-06',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Hypothesis testing context',
    text: 'A coin is suspected to be biased. In 20 tosses, 15 heads are observed. If $H_0: p = 0.5$, find $\\Pr(X \\geq 15)$ under $H_0$. Round to 4 d.p.',
    hints: ['$\\Pr(X \\geq 15) = \\sum_{k=15}^{20} \\binom{20}{k}0.5^{20}$.'],
    answer: '$\\Pr(X \\geq 15) = \\frac{1}{2^{20}}\\left[\\binom{20}{15}+\\binom{20}{16}+\\binom{20}{17}+\\binom{20}{18}+\\binom{20}{19}+\\binom{20}{20}\\right] = \\frac{15504+4845+1140+190+20+1}{1048576} = \\frac{21700}{1048576} \\approx 0.0207$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$0.0207$', correct: true },
      { label: 'B', text: '$0.0370$', correct: false },
      { label: 'C', text: '$0.7500$', correct: false },
      { label: 'D', text: '$0.0002$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-07',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Conditional distribution',
    text: '$X \\sim \\text{Bi}(6, 0.5)$. Find $E(X | X \\geq 4)$.',
    hints: ['Find $\\Pr(X=4|X \\geq 4)$, $\\Pr(X=5|X \\geq 4)$, $\\Pr(X=6|X \\geq 4)$.'],
    answer: '$\\Pr(X=4)=\\frac{15}{64}$, $\\Pr(X=5)=\\frac{6}{64}$, $\\Pr(X=6)=\\frac{1}{64}$. $\\Pr(X \\geq 4) = \\frac{22}{64}$. $E(X|X \\geq 4) = \\frac{4 \\times 15 + 5 \\times 6 + 6 \\times 1}{22} = \\frac{60+30+6}{22} = \\frac{96}{22} = \\frac{48}{11}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\frac{48}{11}$', correct: true },
      { label: 'B', text: '$5$', correct: false },
      { label: 'C', text: '$\\frac{22}{64}$', correct: false },
      { label: 'D', text: '$4$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-08',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Binomial coefficient identity',
    text: 'Show that $\\sum_{k=0}^{n} \\binom{n}{k} = 2^n$ using the binomial theorem. Hence find $\\sum_{k=0}^{10} \\binom{10}{k}$.',
    hints: ['Set $x = 1$ in $(1+x)^n$.'],
    answer: '$(1+1)^{10} = 2^{10} = 1024$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$1024$', correct: true },
      { label: 'B', text: '$512$', correct: false },
      { label: 'C', text: '$2048$', correct: false },
      { label: 'D', text: '$100$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-09',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Two-part problem',
    text: 'A biased coin has $\\Pr(H) = p$. It is tossed $n$ times. Given $E(X) = 4$ and $\\Pr(X = 0) = \\frac{1}{256}$, find $n$ and $p$.',
    hints: ['$E(X) = np = 4$ and $(1-p)^n = \\frac{1}{256}$.'],
    answer: '$(1-p)^n = \\frac{1}{256} = \\left(\\frac{1}{4}\\right)^4 = \\left(\\frac{1}{2}\\right)^8$. Try $n = 8$, $p = 0.5$: $np = 4$ ✓, $(0.5)^8 = \\frac{1}{256}$ ✓.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$n = 8$, $p = 0.5$', correct: true },
      { label: 'B', text: '$n = 4$, $p = 1$', correct: false },
      { label: 'C', text: '$n = 16$, $p = 0.25$', correct: false },
      { label: 'D', text: '$n = 256$, $p = \\frac{1}{64}$', correct: false },
    ],
  },
  {
    id: 'binomial-dist-L5-10',
    nodeId: 'binomial-dist',
    level: 5,
    title: 'Optimisation with binomial',
    text: '$X \\sim \\text{Bi}(n, 0.6)$. Find the smallest $n$ such that $\\Pr(X \\geq 1) > 0.999$.',
    hints: ['$\\Pr(X \\geq 1) = 1 - 0.4^n > 0.999$, so $0.4^n < 0.001$.'],
    answer: '$0.4^n < 0.001$. $n \\ln(0.4) < \\ln(0.001)$. $n > \\frac{-6.908}{-0.916} \\approx 7.54$. So $n = 8$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$8$', correct: true },
      { label: 'B', text: '$7$', correct: false },
      { label: 'C', text: '$10$', correct: false },
      { label: 'D', text: '$1000$', correct: false },
    ],
  },
];

export default questions;
