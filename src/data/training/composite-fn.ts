import type { TrainingQuestion } from './types';

const questions: TrainingQuestion[] = [
  // ===== LEVEL 1 (Year 8 basics) =====
  {
    id: 'composite-fn-L1-01',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Evaluate f(g(2))',
    text: 'If $f(x) = x + 3$ and $g(x) = 2x$, find $f(g(2))$.',
    hints: ['First find g(2)', 'Then substitute into f'],
    answer: '$g(2) = 2 \\times 2 = 4$. Then $f(4) = 4 + 3 = 7$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$7$', correct: true },
      { label: 'B', text: '$10$', correct: false },
      { label: 'C', text: '$8$', correct: false },
      { label: 'D', text: '$5$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-02',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Evaluate g(f(1))',
    text: 'If $f(x) = x + 1$ and $g(x) = 3x$, find $g(f(1))$.',
    hints: ['First find f(1)', 'Then substitute into g'],
    answer: '$f(1) = 1 + 1 = 2$. Then $g(2) = 3 \\times 2 = 6$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$6$', correct: true },
      { label: 'B', text: '$4$', correct: false },
      { label: 'C', text: '$5$', correct: false },
      { label: 'D', text: '$9$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-03',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Simple composite expression',
    text: 'If $f(x) = 2x$ and $g(x) = x + 5$, find $f(g(x))$.',
    hints: ['Replace x in f with g(x)', 'Simplify'],
    answer: '$f(g(x)) = f(x+5) = 2(x+5) = 2x + 10$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$2x + 10$', correct: true },
      { label: 'B', text: '$2x + 5$', correct: false },
      { label: 'C', text: '$2x + 7$', correct: false },
      { label: 'D', text: '$x + 10$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-04',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Evaluate f(g(0))',
    text: 'If $f(x) = x^2$ and $g(x) = x + 3$, find $f(g(0))$.',
    hints: ['Find g(0) first', 'Then square the result'],
    answer: '$g(0) = 0 + 3 = 3$. Then $f(3) = 3^2 = 9$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$9$', correct: true },
      { label: 'B', text: '$3$', correct: false },
      { label: 'C', text: '$6$', correct: false },
      { label: 'D', text: '$12$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-05',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Order matters',
    text: 'If $f(x) = x - 1$ and $g(x) = 2x$, which is correct?',
    hints: ['Compute f(g(3)) and g(f(3)) separately', 'Compare the results'],
    answer: '$f(g(3)) = f(6) = 5$ and $g(f(3)) = g(2) = 4$. So $f(g(3)) \\neq g(f(3))$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(g(3)) = 5$ and $g(f(3)) = 4$', correct: true },
      { label: 'B', text: '$f(g(3)) = 4$ and $g(f(3)) = 5$', correct: false },
      { label: 'C', text: '$f(g(3)) = g(f(3)) = 5$', correct: false },
      { label: 'D', text: '$f(g(3)) = g(f(3)) = 4$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-06',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Composite with constant',
    text: 'If $f(x) = 5$ and $g(x) = x + 2$, find $f(g(10))$.',
    hints: ['f is a constant function', 'It always outputs 5'],
    answer: '$g(10) = 12$. Then $f(12) = 5$ since $f$ is constant.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$5$', correct: true },
      { label: 'B', text: '$12$', correct: false },
      { label: 'C', text: '$15$', correct: false },
      { label: 'D', text: '$7$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-07',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Evaluate with negatives',
    text: 'If $f(x) = x + 4$ and $g(x) = -x$, find $f(g(3))$.',
    hints: ['g(3) = -3', 'Then find f(-3)'],
    answer: '$g(3) = -3$. Then $f(-3) = -3 + 4 = 1$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$1$', correct: true },
      { label: 'B', text: '$-1$', correct: false },
      { label: 'C', text: '$7$', correct: false },
      { label: 'D', text: '$-7$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-08',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Composite rule expression',
    text: 'If $f(x) = 3x$ and $g(x) = x - 2$, find $g(f(x))$.',
    hints: ['Substitute f(x) into g', 'g(f(x)) = f(x) - 2'],
    answer: '$g(f(x)) = g(3x) = 3x - 2$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3x - 2$', correct: true },
      { label: 'B', text: '$3x - 6$', correct: false },
      { label: 'C', text: '$3(x - 2)$', correct: false },
      { label: 'D', text: '$x - 6$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-09',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Double application',
    text: 'If $f(x) = x + 1$, find $f(f(3))$.',
    hints: ['Find f(3) first', 'Then apply f again'],
    answer: '$f(3) = 4$. Then $f(4) = 5$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$5$', correct: true },
      { label: 'B', text: '$4$', correct: false },
      { label: 'C', text: '$6$', correct: false },
      { label: 'D', text: '$7$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L1-10',
    nodeId: 'composite-fn',
    level: 1,
    title: 'Identify the composite',
    text: 'If $h(x) = 2(x+1)$, which functions $f$ and $g$ give $h(x) = f(g(x))$?',
    hints: ['Think about what happens inside first', 'The inner function adds 1, the outer doubles'],
    answer: 'Let $g(x) = x + 1$ and $f(x) = 2x$. Then $f(g(x)) = 2(x+1)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(x) = 2x,\\; g(x) = x + 1$', correct: true },
      { label: 'B', text: '$f(x) = x + 1,\\; g(x) = 2x$', correct: false },
      { label: 'C', text: '$f(x) = 2x + 1,\\; g(x) = x$', correct: false },
      { label: 'D', text: '$f(x) = x,\\; g(x) = 2x + 1$', correct: false },
    ],
  },

  // ===== LEVEL 2 (Year 9) =====
  {
    id: 'composite-fn-L2-01',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Composite with squaring',
    text: 'If $f(x) = x^2$ and $g(x) = 2x - 1$, find $f(g(3))$.',
    hints: ['Find g(3) first', 'Then square it'],
    answer: '$g(3) = 2(3) - 1 = 5$. Then $f(5) = 5^2 = 25$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$25$', correct: true },
      { label: 'B', text: '$35$', correct: false },
      { label: 'C', text: '$17$', correct: false },
      { label: 'D', text: '$10$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-02',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Composite expression with square',
    text: 'If $f(x) = x^2$ and $g(x) = x + 2$, find $f(g(x))$.',
    hints: ['Replace x in f with g(x)', 'Expand the square'],
    answer: '$f(g(x)) = (x+2)^2 = x^2 + 4x + 4$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$x^2 + 4x + 4$', correct: true },
      { label: 'B', text: '$x^2 + 4$', correct: false },
      { label: 'C', text: '$x^2 + 2x + 4$', correct: false },
      { label: 'D', text: '$x^2 + 2$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-03',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Reverse composite expression',
    text: 'If $f(x) = x + 2$ and $g(x) = x^2$, find $g(f(x))$.',
    hints: ['Substitute f(x) into g', 'Square the expression'],
    answer: '$g(f(x)) = (x+2)^2 = x^2 + 4x + 4$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$x^2 + 4x + 4$', correct: true },
      { label: 'B', text: '$x^2 + 2$', correct: false },
      { label: 'C', text: '$x^2 + 4$', correct: false },
      { label: 'D', text: '$x^2 + 2x + 2$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-04',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Evaluate triple composite',
    text: 'If $f(x) = x + 1$, find $f(f(f(2)))$.',
    hints: ['Apply f three times', 'Each time add 1'],
    answer: '$f(2) = 3$, $f(3) = 4$, $f(4) = 5$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$5$', correct: true },
      { label: 'B', text: '$4$', correct: false },
      { label: 'C', text: '$6$', correct: false },
      { label: 'D', text: '$3$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-05',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Decompose a function',
    text: 'If $h(x) = (3x)^2$, which decomposition gives $h(x) = f(g(x))$?',
    hints: ['Inner function multiplies by 3', 'Outer function squares'],
    answer: '$g(x) = 3x$ and $f(x) = x^2$. Then $f(g(x)) = (3x)^2$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(x) = x^2,\\; g(x) = 3x$', correct: true },
      { label: 'B', text: '$f(x) = 3x,\\; g(x) = x^2$', correct: false },
      { label: 'C', text: '$f(x) = 9x,\\; g(x) = x^2$', correct: false },
      { label: 'D', text: '$f(x) = 3x^2,\\; g(x) = x$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-06',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Composite with fraction',
    text: 'If $f(x) = \\dfrac{1}{x}$ and $g(x) = x + 1$, find $f(g(2))$.',
    hints: ['Find g(2)', 'Then take the reciprocal'],
    answer: '$g(2) = 3$. Then $f(3) = \\dfrac{1}{3}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\dfrac{1}{3}$', correct: true },
      { label: 'B', text: '$3$', correct: false },
      { label: 'C', text: '$\\dfrac{1}{2}$', correct: false },
      { label: 'D', text: '$\\dfrac{2}{3}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-07',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Composite expression with reciprocal',
    text: 'If $f(x) = \\dfrac{1}{x}$ and $g(x) = x - 4$, find $f(g(x))$.',
    hints: ['Replace x in f with g(x)'],
    answer: '$f(g(x)) = \\dfrac{1}{x - 4}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\dfrac{1}{x - 4}$', correct: true },
      { label: 'B', text: '$\\dfrac{1}{x} - 4$', correct: false },
      { label: 'C', text: '$\\dfrac{1}{x} - \\dfrac{1}{4}$', correct: false },
      { label: 'D', text: '$\\dfrac{x}{4}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-08',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Find g given composite',
    text: 'If $f(x) = 2x + 1$ and $f(g(x)) = 2x + 5$, find $g(x)$.',
    hints: ['Set up 2·g(x) + 1 = 2x + 5', 'Solve for g(x)'],
    answer: '$2g(x) + 1 = 2x + 5 \\Rightarrow 2g(x) = 2x + 4 \\Rightarrow g(x) = x + 2$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$g(x) = x + 2$', correct: true },
      { label: 'B', text: '$g(x) = x + 3$', correct: false },
      { label: 'C', text: '$g(x) = x + 4$', correct: false },
      { label: 'D', text: '$g(x) = 2x + 2$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-09',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Composite with absolute value',
    text: 'If $f(x) = |x|$ and $g(x) = x - 5$, find $f(g(2))$.',
    hints: ['Find g(2)', 'Then take the absolute value'],
    answer: '$g(2) = 2 - 5 = -3$. Then $f(-3) = |-3| = 3$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3$', correct: true },
      { label: 'B', text: '$-3$', correct: false },
      { label: 'C', text: '$7$', correct: false },
      { label: 'D', text: '$-7$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L2-10',
    nodeId: 'composite-fn',
    level: 2,
    title: 'Solve for input',
    text: 'If $f(x) = 2x$ and $g(x) = x + 3$, solve $f(g(a)) = 14$.',
    hints: ['Write f(g(a)) = 2(a+3)', 'Set equal to 14 and solve'],
    answer: '$f(g(a)) = 2(a + 3) = 2a + 6 = 14 \\Rightarrow 2a = 8 \\Rightarrow a = 4$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$a = 4$', correct: true },
      { label: 'B', text: '$a = 5$', correct: false },
      { label: 'C', text: '$a = 7$', correct: false },
      { label: 'D', text: '$a = 3$', correct: false },
    ],
  },

  // ===== LEVEL 3 (Year 10) =====
  {
    id: 'composite-fn-L3-01',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Composite with square root',
    text: 'If $f(x) = \\sqrt{x}$ and $g(x) = 4x + 5$, find $f(g(1))$.',
    hints: ['Find g(1)', 'Then take the square root'],
    answer: '$g(1) = 4(1) + 5 = 9$. Then $f(9) = \\sqrt{9} = 3$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3$', correct: true },
      { label: 'B', text: '$9$', correct: false },
      { label: 'C', text: '$\\sqrt{5}$', correct: false },
      { label: 'D', text: '$4$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-02',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Domain of composite',
    text: 'If $f(x) = \\sqrt{x}$ and $g(x) = x - 3$, what is the domain of $f(g(x))$?',
    hints: ['We need g(x) ≥ 0', 'Solve x - 3 ≥ 0'],
    answer: '$f(g(x)) = \\sqrt{x - 3}$ requires $x - 3 \\geq 0$, so $x \\geq 3$. Domain: $[3, \\infty)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$[3, \\infty)$', correct: true },
      { label: 'B', text: '$(3, \\infty)$', correct: false },
      { label: 'C', text: '$[0, \\infty)$', correct: false },
      { label: 'D', text: '$(-\\infty, 3]$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-03',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Composite expression simplified',
    text: 'If $f(x) = x^2 - 1$ and $g(x) = x + 1$, find and simplify $f(g(x))$.',
    hints: ['Substitute x+1 into f', 'Expand and simplify'],
    answer: '$f(g(x)) = (x+1)^2 - 1 = x^2 + 2x + 1 - 1 = x^2 + 2x$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$x^2 + 2x$', correct: true },
      { label: 'B', text: '$x^2 + 2x + 2$', correct: false },
      { label: 'C', text: '$x^2 + 1$', correct: false },
      { label: 'D', text: '$x^2 + 2x + 1$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-04',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Decompose square root expression',
    text: 'Express $h(x) = \\sqrt{2x + 1}$ as $f(g(x))$. What are $f$ and $g$?',
    hints: ['What is inside the square root?', 'Inner function is 2x+1, outer is √'],
    answer: '$g(x) = 2x + 1$ and $f(x) = \\sqrt{x}$. Then $f(g(x)) = \\sqrt{2x + 1}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(x) = \\sqrt{x},\\; g(x) = 2x + 1$', correct: true },
      { label: 'B', text: '$f(x) = 2x + 1,\\; g(x) = \\sqrt{x}$', correct: false },
      { label: 'C', text: '$f(x) = \\sqrt{2x},\\; g(x) = x + 1$', correct: false },
      { label: 'D', text: '$f(x) = x + 1,\\; g(x) = \\sqrt{2x}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-05',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Composite with quadratic and linear',
    text: 'If $f(x) = x^2 + x$ and $g(x) = 2x$, find $f(g(x))$.',
    hints: ['Substitute 2x into f', 'f(2x) = (2x)² + 2x'],
    answer: '$f(g(x)) = (2x)^2 + 2x = 4x^2 + 2x$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$4x^2 + 2x$', correct: true },
      { label: 'B', text: '$2x^2 + 2x$', correct: false },
      { label: 'C', text: '$4x^2 + x$', correct: false },
      { label: 'D', text: '$2x^2 + x$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-06',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Domain restriction from denominator',
    text: 'If $f(x) = \\dfrac{1}{x}$ and $g(x) = x^2 - 4$, what values of $x$ must be excluded from the domain of $f(g(x))$?',
    hints: ['We need g(x) ≠ 0', 'Solve x² - 4 = 0'],
    answer: '$g(x) \\neq 0 \\Rightarrow x^2 - 4 \\neq 0 \\Rightarrow x \\neq \\pm 2$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$x \\neq 2$ and $x \\neq -2$', correct: true },
      { label: 'B', text: '$x \\neq 4$', correct: false },
      { label: 'C', text: '$x \\neq 0$', correct: false },
      { label: 'D', text: '$x \\neq 2$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-07',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Solve composite equation',
    text: 'If $f(x) = x^2$ and $g(x) = x - 1$, solve $f(g(x)) = 9$.',
    hints: ['f(g(x)) = (x-1)²', 'Set equal to 9 and solve'],
    answer: '$(x-1)^2 = 9 \\Rightarrow x - 1 = \\pm 3 \\Rightarrow x = 4$ or $x = -2$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$x = 4$ or $x = -2$', correct: true },
      { label: 'B', text: '$x = 4$ only', correct: false },
      { label: 'C', text: '$x = 10$ or $x = -8$', correct: false },
      { label: 'D', text: '$x = 3$ or $x = -3$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-08',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Find f given composite',
    text: 'If $g(x) = 3x$ and $f(g(x)) = 9x^2 + 1$, find $f(x)$.',
    hints: ['Since g(x) = 3x, let u = 3x so x = u/3', 'Substitute back'],
    answer: 'Let $u = 3x$, so $x = \\frac{u}{3}$. Then $f(u) = 9 \\cdot \\frac{u^2}{9} + 1 = u^2 + 1$. So $f(x) = x^2 + 1$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(x) = x^2 + 1$', correct: true },
      { label: 'B', text: '$f(x) = 9x^2 + 1$', correct: false },
      { label: 'C', text: '$f(x) = 3x^2 + 1$', correct: false },
      { label: 'D', text: '$f(x) = x^2 + 3$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-09',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Compare f∘g and g∘f',
    text: 'If $f(x) = x^2$ and $g(x) = x + 3$, find $f(g(x)) - g(f(x))$.',
    hints: ['Find each composite separately', 'Subtract'],
    answer: '$f(g(x)) = (x+3)^2 = x^2 + 6x + 9$. $g(f(x)) = x^2 + 3$. Difference $= 6x + 6$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$6x + 6$', correct: true },
      { label: 'B', text: '$6x + 9$', correct: false },
      { label: 'C', text: '$6x$', correct: false },
      { label: 'D', text: '$6x + 12$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L3-10',
    nodeId: 'composite-fn',
    level: 3,
    title: 'Composite self-application',
    text: 'If $f(x) = 2x - 3$, find $f(f(x))$.',
    hints: ['Substitute f(x) into f', 'Simplify 2(2x-3) - 3'],
    answer: '$f(f(x)) = 2(2x - 3) - 3 = 4x - 6 - 3 = 4x - 9$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$4x - 9$', correct: true },
      { label: 'B', text: '$4x - 6$', correct: false },
      { label: 'C', text: '$4x - 3$', correct: false },
      { label: 'D', text: '$2x - 9$', correct: false },
    ],
  },

  // ===== LEVEL 4 (VCE Methods standard) =====
  {
    id: 'composite-fn-L4-01',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Domain of composite with log',
    text: 'If $f(x) = \\log_e(x)$ and $g(x) = 3 - x$, state the domain of $f(g(x))$.',
    hints: ['Need g(x) > 0', 'Solve 3 - x > 0'],
    answer: '$f(g(x)) = \\log_e(3 - x)$ requires $3 - x > 0$, so $x < 3$. Domain: $(-\\infty, 3)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$(-\\infty, 3)$', correct: true },
      { label: 'B', text: '$(-\\infty, 3]$', correct: false },
      { label: 'C', text: '$(3, \\infty)$', correct: false },
      { label: 'D', text: '$(0, \\infty)$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-02',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Composite with exponential',
    text: 'If $f(x) = e^x$ and $g(x) = 2x + 1$, find $f(g(x))$.',
    hints: ['Substitute g(x) into f'],
    answer: '$f(g(x)) = e^{2x + 1}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$e^{2x+1}$', correct: true },
      { label: 'B', text: '$2e^x + 1$', correct: false },
      { label: 'C', text: '$e^{2x} + e$', correct: false },
      { label: 'D', text: '$2xe^x$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-03',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Decompose exponential function',
    text: 'Express $h(x) = e^{x^2}$ as $f(g(x))$. What are $f$ and $g$?',
    hints: ['Inner function is x²', 'Outer function is exponential'],
    answer: '$g(x) = x^2$ and $f(x) = e^x$. Then $f(g(x)) = e^{x^2}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(x) = e^x,\\; g(x) = x^2$', correct: true },
      { label: 'B', text: '$f(x) = x^2,\\; g(x) = e^x$', correct: false },
      { label: 'C', text: '$f(x) = e^{x^2},\\; g(x) = x$', correct: false },
      { label: 'D', text: '$f(x) = e^x,\\; g(x) = 2x$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-04',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Range of composite',
    text: 'If $f(x) = x^2 + 1$ with domain $\\mathbb{R}$ and $g(x) = \\sin(x)$, what is the range of $f(g(x))$?',
    hints: ['Range of sin(x) is [-1,1]', 'Square those values and add 1'],
    answer: '$g(x) \\in [-1, 1]$, so $f(g(x)) = \\sin^2(x) + 1 \\in [0+1, 1+1] = [1, 2]$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$[1, 2]$', correct: true },
      { label: 'B', text: '$[0, 2]$', correct: false },
      { label: 'C', text: '$[1, \\infty)$', correct: false },
      { label: 'D', text: '$[0, 1]$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-05',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Domain of log composite',
    text: 'Find the domain of $f(x) = \\log_e(x^2 - 9)$.',
    hints: ['Need x² - 9 > 0', 'Solve (x-3)(x+3) > 0'],
    answer: '$x^2 - 9 > 0 \\Rightarrow (x-3)(x+3) > 0 \\Rightarrow x < -3$ or $x > 3$. Domain: $(-\\infty, -3) \\cup (3, \\infty)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$(-\\infty, -3) \\cup (3, \\infty)$', correct: true },
      { label: 'B', text: '$(-3, 3)$', correct: false },
      { label: 'C', text: '$(-\\infty, -3] \\cup [3, \\infty)$', correct: false },
      { label: 'D', text: '$(9, \\infty)$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-06',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Chain rule connection',
    text: 'If $h(x) = (2x + 3)^5$, and we write $h = f \\circ g$ where $f(u) = u^5$ and $g(x) = 2x + 3$, what is $h\'(x)$ using the chain rule?',
    hints: ['h\'(x) = f\'(g(x)) · g\'(x)', 'f\'(u) = 5u⁴ and g\'(x) = 2'],
    answer: '$h\'(x) = 5(2x+3)^4 \\cdot 2 = 10(2x+3)^4$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$10(2x+3)^4$', correct: true },
      { label: 'B', text: '$5(2x+3)^4$', correct: false },
      { label: 'C', text: '$10(2x+3)^5$', correct: false },
      { label: 'D', text: '$2(2x+3)^4$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-07',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Composite with trig',
    text: 'If $f(x) = \\sin(x)$ and $g(x) = 2x$, find $f(g(x))$ and its period.',
    hints: ['f(g(x)) = sin(2x)', 'Period of sin(kx) is 2π/k'],
    answer: '$f(g(x)) = \\sin(2x)$. Period $= \\dfrac{2\\pi}{2} = \\pi$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\sin(2x)$, period $= \\pi$', correct: true },
      { label: 'B', text: '$2\\sin(x)$, period $= 2\\pi$', correct: false },
      { label: 'C', text: '$\\sin(2x)$, period $= 2\\pi$', correct: false },
      { label: 'D', text: '$\\sin(2x)$, period $= \\dfrac{\\pi}{2}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-08',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Composite existence check',
    text: 'Let $f: [0, \\infty) \\to \\mathbb{R},\\; f(x) = \\sqrt{x}$ and $g: \\mathbb{R} \\to \\mathbb{R},\\; g(x) = x - 5$. Does $f \\circ g$ exist? If so, state its domain.',
    hints: ['For f∘g to exist, range of g must be subset of domain of f', 'We need g(x) ≥ 0'],
    answer: 'Need $g(x) \\geq 0$, i.e. $x - 5 \\geq 0$, so $x \\geq 5$. $f \\circ g$ exists with domain $[5, \\infty)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: 'Yes, domain $= [5, \\infty)$', correct: true },
      { label: 'B', text: 'Yes, domain $= [0, \\infty)$', correct: false },
      { label: 'C', text: 'No, $f \\circ g$ does not exist', correct: false },
      { label: 'D', text: 'Yes, domain $= (-5, \\infty)$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-09',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Chain rule with exponential',
    text: 'If $h(x) = e^{3x-2}$, write $h$ as $f \\circ g$ and find $h\'(x)$.',
    hints: ['f(x) = eˣ, g(x) = 3x - 2', 'Use chain rule'],
    answer: '$f(x) = e^x,\\; g(x) = 3x - 2$. $h\'(x) = e^{3x - 2} \\cdot 3 = 3e^{3x - 2}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3e^{3x-2}$', correct: true },
      { label: 'B', text: '$e^{3x-2}$', correct: false },
      { label: 'C', text: '$(3x-2)e^{3x-2}$', correct: false },
      { label: 'D', text: '$3xe^{3x-2}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L4-10',
    nodeId: 'composite-fn',
    level: 4,
    title: 'Solve composite with log',
    text: 'If $f(x) = e^x$ and $g(x) = \\log_e(x)$, find $f(g(x))$ and $g(f(x))$.',
    hints: ['These are inverse functions', 'e^(ln x) = x and ln(eˣ) = x'],
    answer: '$f(g(x)) = e^{\\log_e(x)} = x$ for $x > 0$, and $g(f(x)) = \\log_e(e^x) = x$ for all $x \\in \\mathbb{R}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(g(x)) = x$ (for $x > 0$) and $g(f(x)) = x$ (for all $x$)', correct: true },
      { label: 'B', text: '$f(g(x)) = x$ and $g(f(x)) = x$ (both for all $x$)', correct: false },
      { label: 'C', text: '$f(g(x)) = e^x$ and $g(f(x)) = \\log_e(x)$', correct: false },
      { label: 'D', text: '$f(g(x)) = 1$ and $g(f(x)) = 1$', correct: false },
    ],
  },

  // ===== LEVEL 5 (VCE Methods exam-hard) =====
  {
    id: 'composite-fn-L5-01',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Domain of restricted composite',
    text: 'Let $f: (0, \\infty) \\to \\mathbb{R},\\; f(x) = \\log_e(x)$ and $g: [-2, 2] \\to \\mathbb{R},\\; g(x) = 4 - x^2$. State the domain and rule of $f \\circ g$.',
    hints: ['Need g(x) > 0, i.e. 4 - x² > 0', 'Also x must be in domain of g'],
    answer: 'Need $4 - x^2 > 0 \\Rightarrow x^2 < 4 \\Rightarrow -2 < x < 2$. Combined with $\\text{dom}(g) = [-2,2]$: domain of $f \\circ g = (-2, 2)$. Rule: $f(g(x)) = \\log_e(4 - x^2)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: 'Domain $(-2, 2)$, rule $\\log_e(4 - x^2)$', correct: true },
      { label: 'B', text: 'Domain $[-2, 2]$, rule $\\log_e(4 - x^2)$', correct: false },
      { label: 'C', text: 'Domain $(-2, 2)$, rule $\\log_e(x^2 - 4)$', correct: false },
      { label: 'D', text: 'Domain $(-\\infty, -2) \\cup (2, \\infty)$, rule $\\log_e(4 - x^2)$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-02',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Range of composite function',
    text: 'Let $f(x) = e^x$ and $g: [-1, 1] \\to \\mathbb{R},\\; g(x) = x^2$. Find the range of $f \\circ g$.',
    hints: ['Find range of g first: g([-1,1]) = [0,1]', 'Then apply f to that interval'],
    answer: '$g([-1,1]) = [0, 1]$. Then $f([0,1]) = [e^0, e^1] = [1, e]$. Range of $f \\circ g = [1, e]$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$[1, e]$', correct: true },
      { label: 'B', text: '$[e^{-1}, e]$', correct: false },
      { label: 'C', text: '$[0, e]$', correct: false },
      { label: 'D', text: '$(0, e]$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-03',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Chain rule with trig composite',
    text: 'If $h(x) = \\sin^2(3x)$, find $h\'(x)$.',
    hints: ['Write as (sin(3x))²', 'Apply chain rule twice: outer power, then sin, then 3x'],
    answer: '$h\'(x) = 2\\sin(3x) \\cdot \\cos(3x) \\cdot 3 = 6\\sin(3x)\\cos(3x) = 3\\sin(6x)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$3\\sin(6x)$', correct: true },
      { label: 'B', text: '$6\\sin(3x)\\cos(3x)$', correct: false },
      { label: 'C', text: '$2\\sin(3x)\\cos(3x)$', correct: false },
      { label: 'D', text: '$6\\sin(3x)$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-04',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Finding composite from graph',
    text: 'The function $h(x) = 2\\log_e(x + 1) - 3$ can be expressed as a sequence of transformations of $\\log_e(x)$. If $h = T \\circ \\log_e$ where $T$ is a single linear transformation on the output, what is $T(y)$?',
    hints: ['h(x) = 2·ln(x+1) - 3', 'The inner transformation is x → x+1, the outer is y → 2y - 3'],
    answer: 'Writing $h(x) = 2\\log_e(x+1) - 3$: the output transformation is $T(y) = 2y - 3$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$T(y) = 2y - 3$', correct: true },
      { label: 'B', text: '$T(y) = 2(y - 3)$', correct: false },
      { label: 'C', text: '$T(y) = 2y + 3$', correct: false },
      { label: 'D', text: '$T(y) = y - 3$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-05',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Composite function equation',
    text: 'If $f(x) = 2x - 1$ and $g(x) = ax + b$ such that $f(g(x)) = g(f(x))$ for all $x$, find $a$ and $b$.',
    hints: ['Compute both composites', 'Set coefficients equal'],
    answer: '$f(g(x)) = 2(ax+b) - 1 = 2ax + 2b - 1$. $g(f(x)) = a(2x-1) + b = 2ax - a + b$. Equating: $2b - 1 = -a + b \\Rightarrow b = 1 - a$. Since coefficients of $x$ match ($2a = 2a$), any $a$ works with $b = 1 - a$. For the special case $a = 1$: $b = 0$, giving $g(x) = x$. But the most general family is $b = 1 - a$. If we require $g \\neq f$, and $a = 2$: $b = -1 = $ same as $f$. So the non-trivial solution is $a = 2, b = -1$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$b = 1 - a$ for any $a \\in \\mathbb{R}$', correct: true },
      { label: 'B', text: '$a = 2,\\; b = -1$ only', correct: false },
      { label: 'C', text: '$a = 1,\\; b = 0$ only', correct: false },
      { label: 'D', text: 'No solution exists', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-06',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Chain rule with nested functions',
    text: 'Find $\\dfrac{d}{dx}\\left[e^{\\sin(x^2)}\\right]$.',
    hints: ['Three layers: e^u, u = sin(v), v = x²', 'Multiply all three derivatives'],
    answer: '$\\dfrac{d}{dx}\\left[e^{\\sin(x^2)}\\right] = e^{\\sin(x^2)} \\cdot \\cos(x^2) \\cdot 2x = 2x\\cos(x^2)e^{\\sin(x^2)}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$2x\\cos(x^2)e^{\\sin(x^2)}$', correct: true },
      { label: 'B', text: '$\\cos(x^2)e^{\\sin(x^2)}$', correct: false },
      { label: 'C', text: '$2xe^{\\sin(x^2)}$', correct: false },
      { label: 'D', text: '$2x\\sin(x^2)e^{\\cos(x^2)}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-07',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Maximal domain of nested composite',
    text: 'Find the maximal domain of $h(x) = \\log_e(\\sqrt{4 - x} - 1)$.',
    hints: ['Need √(4-x) - 1 > 0 and 4 - x ≥ 0', 'Solve √(4-x) > 1'],
    answer: 'Need $4 - x \\geq 0 \\Rightarrow x \\leq 4$. Need $\\sqrt{4-x} > 1 \\Rightarrow 4 - x > 1 \\Rightarrow x < 3$. Domain: $(-\\infty, 3)$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$(-\\infty, 3)$', correct: true },
      { label: 'B', text: '$(-\\infty, 3]$', correct: false },
      { label: 'C', text: '$(-\\infty, 4)$', correct: false },
      { label: 'D', text: '$(3, 4]$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-08',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Composite function period',
    text: 'If $f(x) = x^2$ and $g(x) = \\cos(\\pi x)$, find the period of $h(x) = f(g(x))$.',
    hints: ['h(x) = cos²(πx)', 'Use identity: cos²(θ) = (1 + cos(2θ))/2'],
    answer: '$h(x) = \\cos^2(\\pi x) = \\frac{1 + \\cos(2\\pi x)}{2}$. The period of $\\cos(2\\pi x)$ is $1$. So the period of $h$ is $1$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$1$', correct: true },
      { label: 'B', text: '$2$', correct: false },
      { label: 'C', text: '$\\pi$', correct: false },
      { label: 'D', text: '$\\dfrac{1}{2}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-09',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Functional equation via composite',
    text: 'If $f(x) = \\dfrac{x}{x+1}$ for $x \\neq -1$, find a simplified expression for $f(f(x))$.',
    hints: ['Substitute f(x) into f', 'Simplify the complex fraction'],
    answer: '$f(f(x)) = f\\!\\left(\\frac{x}{x+1}\\right) = \\dfrac{\\frac{x}{x+1}}{\\frac{x}{x+1}+1} = \\dfrac{\\frac{x}{x+1}}{\\frac{2x+1}{x+1}} = \\dfrac{x}{2x+1}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\dfrac{x}{2x+1}$', correct: true },
      { label: 'B', text: '$\\dfrac{x^2}{(x+1)^2}$', correct: false },
      { label: 'C', text: '$\\dfrac{x}{x+2}$', correct: false },
      { label: 'D', text: '$\\dfrac{2x}{x+1}$', correct: false },
    ],
  },
  {
    id: 'composite-fn-L5-10',
    nodeId: 'composite-fn',
    level: 5,
    title: 'Derivative of implicit composite',
    text: 'Let $y = \\log_e(\\log_e(x))$ for $x > 1$. Find $\\dfrac{dy}{dx}$.',
    hints: ['Chain rule: derivative of ln(u) is 1/u · du/dx', 'u = ln(x), so du/dx = 1/x'],
    answer: '$\\dfrac{dy}{dx} = \\dfrac{1}{\\log_e(x)} \\cdot \\dfrac{1}{x} = \\dfrac{1}{x\\log_e(x)}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$\\dfrac{1}{x\\log_e(x)}$', correct: true },
      { label: 'B', text: '$\\dfrac{1}{\\log_e(x)}$', correct: false },
      { label: 'C', text: '$\\dfrac{1}{x(\\log_e(x))^2}$', correct: false },
      { label: 'D', text: '$\\dfrac{1}{x}$', correct: false },
    ],
  },
];

export default questions;
