import type { TrainingQuestion } from './types';

const questions: TrainingQuestion[] = [
  // Level 1
  {
    id: 'avg-rate-l1-q1',
    nodeId: 'avg-rate',
    level: 1,
    title: 'Average rate from a table',
    text: 'A car travels $120$ km in $2$ hours. What is the average rate of change of distance with respect to time?',
    hints: ['Average rate $= \\frac{\\Delta d}{\\Delta t}$'],
    answer: '$\\frac{120}{2} = 60$ km/h',
    marks: 1,
  },
  {
    id: 'avg-rate-l1-q2',
    nodeId: 'avg-rate',
    level: 1,
    title: 'Average rate of a function',
    text: 'Find the average rate of change of $f(x) = x^2$ between $x = 1$ and $x = 4$.',
    hints: ['$\\frac{f(4) - f(1)}{4 - 1}$'],
    answer: '$\\frac{16 - 1}{3} = 5$',
    marks: 2,
  },
  {
    id: 'avg-rate-l1-q3',
    nodeId: 'avg-rate',
    level: 1,
    title: 'Average rate definition',
    text: 'The average rate of change of $f(x)$ from $x = a$ to $x = b$ is:',
    hints: ['Think about the slope of the secant line'],
    answer: 'B',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(b) - f(a)$', correct: false },
      { label: 'B', text: '$\\frac{f(b) - f(a)}{b - a}$', correct: true },
      { label: 'C', text: '$\\frac{f(a) + f(b)}{2}$', correct: false },
      { label: 'D', text: '$f\'\\left(\\frac{a+b}{2}\\right)$', correct: false },
    ],
  },
  {
    id: 'avg-rate-l1-q4',
    nodeId: 'avg-rate',
    level: 1,
    title: 'Average rate of a linear function',
    text: 'Find the average rate of change of $f(x) = 3x + 7$ between $x = 2$ and $x = 10$.',
    hints: ['For a linear function, the average rate equals the gradient'],
    answer: '$\\frac{f(10) - f(2)}{10 - 2} = \\frac{37 - 13}{8} = 3$',
    marks: 1,
  },
  // Level 2
  {
    id: 'avg-rate-l2-q1',
    nodeId: 'avg-rate',
    level: 2,
    title: 'Average rate of a cubic',
    text: 'Find the average rate of change of $f(x) = x^3 - 2x$ from $x = -1$ to $x = 2$.',
    hints: ['Calculate $f(2)$ and $f(-1)$'],
    answer: '$f(2) = 4$, $f(-1) = 1$. Average rate $= \\frac{4 - 1}{2 - (-1)} = \\frac{3}{3} = 1$.',
    marks: 2,
  },
  {
    id: 'avg-rate-l2-q2',
    nodeId: 'avg-rate',
    level: 2,
    title: 'Average vs instantaneous',
    text: 'For $f(x) = x^2$, find the value of $c$ in $(0, 4)$ where the instantaneous rate equals the average rate of change over $[0, 4]$.',
    hints: ['Average rate $= \\frac{f(4) - f(0)}{4} = 4$', 'Set $f\'(c) = 4$'],
    answer: 'Average rate $= \\frac{16}{4} = 4$. $f\'(x) = 2x = 4 \\Rightarrow x = 2$. So $c = 2$.',
    marks: 3,
  },
  {
    id: 'avg-rate-l2-q3',
    nodeId: 'avg-rate',
    level: 2,
    title: 'Average rate in context',
    text: 'The temperature in a room at time $t$ hours is $T(t) = 20 + 5\\sin\\left(\\frac{\\pi t}{12}\\right)$ °C. Find the average rate of change of temperature from $t = 0$ to $t = 6$.',
    hints: ['$T(0) = 20$, $T(6) = 20 + 5\\sin(\\pi/2) = 25$'],
    answer: '$\\frac{T(6) - T(0)}{6 - 0} = \\frac{25 - 20}{6} = \\frac{5}{6}$ °C/hour.',
    marks: 3,
  },
  {
    id: 'avg-rate-l2-q4',
    nodeId: 'avg-rate',
    level: 2,
    title: 'Average rate of exponential',
    text: 'Find the average rate of change of $f(x) = e^x$ from $x = 0$ to $x = 2$.',
    hints: ['$f(0) = 1$, $f(2) = e^2$'],
    answer: '$\\frac{e^2 - 1}{2 - 0} = \\frac{e^2 - 1}{2}$',
    marks: 2,
  },
  // Level 3
  {
    id: 'avg-rate-l3-q1',
    nodeId: 'avg-rate',
    level: 3,
    title: 'Average value of a function',
    text: 'Find the average value of $f(x) = x^2$ on the interval $[0, 3]$.',
    hints: ['Average value $= \\frac{1}{b-a}\\int_a^b f(x)\\,dx$'],
    answer: '$\\frac{1}{3}\\int_0^3 x^2\\,dx = \\frac{1}{3} \\cdot \\left[\\frac{x^3}{3}\\right]_0^3 = \\frac{1}{3} \\cdot 9 = 3$',
    marks: 3,
  },
  {
    id: 'avg-rate-l3-q2',
    nodeId: 'avg-rate',
    level: 3,
    title: 'Average value of trig function',
    text: 'Find the average value of $f(x) = \\sin(x)$ on $[0, \\pi]$.',
    hints: ['$\\frac{1}{\\pi}\\int_0^{\\pi}\\sin(x)\\,dx$'],
    answer: '$\\frac{1}{\\pi}[-\\cos(x)]_0^{\\pi} = \\frac{1}{\\pi}(1 + 1) = \\frac{2}{\\pi}$',
    marks: 3,
  },
  {
    id: 'avg-rate-l3-q3',
    nodeId: 'avg-rate',
    level: 3,
    title: 'Average velocity',
    text: 'A particle has velocity $v(t) = 3t^2 - 6t$ m/s for $0 \\leq t \\leq 4$. Find the average velocity over this interval.',
    hints: ['Average velocity $= \\frac{1}{4}\\int_0^4 v(t)\\,dt$', 'Or: $\\frac{x(4) - x(0)}{4}$'],
    answer: '$\\frac{1}{4}\\int_0^4 (3t^2 - 6t)\\,dt = \\frac{1}{4}[t^3 - 3t^2]_0^4 = \\frac{1}{4}(64 - 48) = 4$ m/s.',
    marks: 4,
  },
  // Level 4
  {
    id: 'avg-rate-l4-q1',
    nodeId: 'avg-rate',
    level: 4,
    title: 'Average value with exponential',
    text: 'Find the average value of $f(x) = e^{-x}$ on $[0, \\ln 5]$.',
    hints: ['$\\frac{1}{\\ln 5}\\int_0^{\\ln 5} e^{-x}\\,dx$'],
    answer: '$\\frac{1}{\\ln 5}[-e^{-x}]_0^{\\ln 5} = \\frac{1}{\\ln 5}\\left(-\\frac{1}{5} + 1\\right) = \\frac{4}{5\\ln 5}$',
    marks: 4,
  },
  {
    id: 'avg-rate-l4-q2',
    nodeId: 'avg-rate',
    level: 4,
    title: 'Mean Value Theorem application',
    text: 'Verify the Mean Value Theorem for $f(x) = x^3 - 3x$ on $[0, 2]$ and find all values of $c$ satisfying the theorem.',
    hints: ['MVT: $f\'(c) = \\frac{f(b) - f(a)}{b - a}$', '$f\'(x) = 3x^2 - 3$'],
    answer: '$f(2) = 2$, $f(0) = 0$. Average rate $= \\frac{2}{2} = 1$. $f\'(c) = 3c^2 - 3 = 1 \\Rightarrow c^2 = \\frac{4}{3} \\Rightarrow c = \\frac{2}{\\sqrt{3}} = \\frac{2\\sqrt{3}}{3} \\approx 1.155$. (Only positive root is in $(0, 2)$.)',
    marks: 5,
  },
  {
    id: 'avg-rate-l4-q3',
    nodeId: 'avg-rate',
    level: 4,
    title: 'Average speed vs average velocity',
    text: 'A particle moves with velocity $v(t) = t^2 - 4t + 3$ m/s for $0 \\leq t \\leq 4$. Find (a) the average velocity and (b) the average speed over this interval.',
    hints: ['Average velocity uses $\\int v(t)\\,dt$', 'Average speed uses $\\int |v(t)|\\,dt$', '$v(t) = (t-1)(t-3) \\leq 0$ on $[1, 3]$'],
    answer: '(a) $\\frac{1}{4}\\int_0^4(t^2 - 4t + 3)\\,dt = \\frac{1}{4}\\left[\\frac{t^3}{3} - 2t^2 + 3t\\right]_0^4 = \\frac{1}{4}\\left(\\frac{64}{3} - 32 + 12\\right) = \\frac{1}{4} \\cdot \\frac{4}{3} = \\frac{1}{3}$ m/s. (b) $v(t) \\geq 0$ on $[0,1]$ and $[3,4]$; $v(t) \\leq 0$ on $[1,3]$. $\\int_0^1 v\\,dt = \\frac{5}{6}$, $\\int_1^3 |v|\\,dt = \\frac{4}{3}$, $\\int_3^4 v\\,dt = \\frac{5}{6}$. Average speed $= \\frac{1}{4}\\left(\\frac{5}{6} + \\frac{4}{3} + \\frac{5}{6}\\right) = \\frac{1}{4} \\cdot 3 = \\frac{3}{4}$ m/s.',
    marks: 6,
  },
  // Level 5
  {
    id: 'avg-rate-l5-q1',
    nodeId: 'avg-rate',
    level: 5,
    title: 'Average value equals function value',
    text: 'Find the value(s) of $c$ in $[1, 4]$ such that $f(c)$ equals the average value of $f(x) = \\frac{1}{x}$ on $[1, 4]$.',
    hints: ['Average value $= \\frac{1}{3}\\int_1^4 \\frac{1}{x}\\,dx = \\frac{\\ln 4}{3}$', 'Solve $\\frac{1}{c} = \\frac{\\ln 4}{3}$'],
    answer: 'Average value $= \\frac{1}{3}\\ln 4 = \\frac{2\\ln 2}{3}$. $\\frac{1}{c} = \\frac{2\\ln 2}{3} \\Rightarrow c = \\frac{3}{2\\ln 2} \\approx 2.164$. Since $1 < 2.164 < 4$, this is valid.',
    marks: 5,
  },
  {
    id: 'avg-rate-l5-q2',
    nodeId: 'avg-rate',
    level: 5,
    title: 'Comparing average rates',
    text: 'Let $f(x) = x^2 e^{-x}$ for $x \\geq 0$. Show that the average rate of change of $f$ on $[0, 2]$ equals $\\frac{4e^{-2}}{2}$, find the average value of $f$ on $[0, 2]$, and determine whether the average rate of change on $[0, 1]$ is greater or less than on $[1, 2]$.',
    hints: ['Average rate $= \\frac{f(2) - f(0)}{2}$', 'For average value, integrate by parts (or use tabular method)', 'Compare $\\frac{f(1)-f(0)}{1}$ with $\\frac{f(2)-f(1)}{1}$'],
    answer: 'Average rate on $[0,2]$: $\\frac{4e^{-2} - 0}{2} = 2e^{-2} \\approx 0.271$. On $[0,1]$: $\\frac{e^{-1} - 0}{1} = e^{-1} \\approx 0.368$. On $[1,2]$: $\\frac{4e^{-2} - e^{-1}}{1} = 4e^{-2} - e^{-1} \\approx 0.541 - 0.368 = 0.173$. So average rate on $[0,1]$ is greater. Average value $= \\frac{1}{2}\\int_0^2 x^2 e^{-x}\\,dx$. Using integration by parts twice: $\\int x^2 e^{-x}\\,dx = -e^{-x}(x^2 + 2x + 2)$. So $\\frac{1}{2}[-e^{-x}(x^2+2x+2)]_0^2 = \\frac{1}{2}[-10e^{-2} + 2] = 1 - 5e^{-2} \\approx 0.323$.',
    marks: 7,
  },
];

export default questions;
