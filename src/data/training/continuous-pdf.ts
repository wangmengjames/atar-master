import type { TrainingQuestion } from './types';

const questions: TrainingQuestion[] = [
  // Level 1
  {
    id: 'continuous-pdf-l1-1',
    nodeId: 'continuous-pdf',
    level: 1,
    title: 'Recognising a Valid PDF',
    text: 'Which of the following is a valid probability density function on $[0, 2]$?',
    hints: ['A valid PDF must satisfy $f(x) \\geq 0$ and $\\int f(x)\\,dx = 1$'],
    answer: '$f(x) = \\frac{1}{2}$ for $0 \\leq x \\leq 2$',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$f(x) = x$ for $0 \\leq x \\leq 2$', correct: false },
      { label: 'B', text: '$f(x) = \\frac{1}{2}$ for $0 \\leq x \\leq 2$', correct: true },
      { label: 'C', text: '$f(x) = 2x - 1$ for $0 \\leq x \\leq 2$', correct: false },
      { label: 'D', text: '$f(x) = \\frac{x}{3}$ for $0 \\leq x \\leq 2$', correct: false },
    ],
  },
  {
    id: 'continuous-pdf-l1-2',
    nodeId: 'continuous-pdf',
    level: 1,
    title: 'Uniform Distribution Probability',
    text: 'A random variable $X$ is uniformly distributed on $[2, 8]$. Find $\\Pr(3 < X < 5)$.',
    hints: ['For uniform distribution, $\\Pr(a < X < b) = \\frac{b-a}{\\text{range}}$'],
    answer: '$\\Pr(3 < X < 5) = \\frac{5-3}{8-2} = \\frac{2}{6} = \\frac{1}{3}$',
    marks: 2,
  },
  {
    id: 'continuous-pdf-l1-3',
    nodeId: 'continuous-pdf',
    level: 1,
    title: 'Finding a Constant',
    text: 'If $f(x) = cx$ for $0 \\leq x \\leq 4$ and $f(x) = 0$ otherwise, find the value of $c$ that makes $f$ a valid PDF.',
    hints: ['Set $\\int_0^4 cx\\,dx = 1$'],
    answer: '$\\int_0^4 cx\\,dx = c \\cdot \\frac{x^2}{2}\\Big|_0^4 = 8c = 1$, so $c = \\frac{1}{8}$.',
    marks: 2,
  },
  {
    id: 'continuous-pdf-l1-4',
    nodeId: 'continuous-pdf',
    level: 1,
    title: 'Probability from a PDF',
    text: 'If $f(x) = \\frac{3}{8}x^2$ for $0 \\leq x \\leq 2$, find $\\Pr(X > 1)$.',
    hints: ['$\\Pr(X > 1) = \\int_1^2 \\frac{3}{8}x^2\\,dx$'],
    answer: '$\\int_1^2 \\frac{3}{8}x^2\\,dx = \\frac{3}{8} \\cdot \\frac{x^3}{3}\\Big|_1^2 = \\frac{1}{8}(8-1) = \\frac{7}{8}$',
    marks: 2,
  },
  // Level 2
  {
    id: 'continuous-pdf-l2-1',
    nodeId: 'continuous-pdf',
    level: 2,
    title: 'CDF from PDF',
    text: 'If $f(x) = 2(1-x)$ for $0 \\leq x \\leq 1$, find the cumulative distribution function $F(x)$.',
    hints: ['$F(x) = \\int_0^x 2(1-t)\\,dt$'],
    answer: '$F(x) = \\int_0^x 2(1-t)\\,dt = 2x - x^2$ for $0 \\leq x \\leq 1$, with $F(x)=0$ for $x<0$ and $F(x)=1$ for $x>1$.',
    marks: 3,
  },
  {
    id: 'continuous-pdf-l2-2',
    nodeId: 'continuous-pdf',
    level: 2,
    title: 'Expected Value',
    text: 'If $f(x) = 3x^2$ for $0 \\leq x \\leq 1$, find $E(X)$.',
    hints: ['$E(X) = \\int_0^1 x \\cdot 3x^2\\,dx$'],
    answer: '$E(X) = \\int_0^1 3x^3\\,dx = 3 \\cdot \\frac{x^4}{4}\\Big|_0^1 = \\frac{3}{4}$',
    marks: 3,
  },
  {
    id: 'continuous-pdf-l2-3',
    nodeId: 'continuous-pdf',
    level: 2,
    title: 'Variance Calculation',
    text: 'For the PDF $f(x) = 2x$ on $[0,1]$, find $\\text{Var}(X)$.',
    hints: [
      '$\\text{Var}(X) = E(X^2) - [E(X)]^2$',
      '$E(X) = \\int_0^1 2x^2\\,dx$ and $E(X^2) = \\int_0^1 2x^3\\,dx$',
    ],
    answer: '$E(X) = \\int_0^1 2x^2\\,dx = \\frac{2}{3}$. $E(X^2) = \\int_0^1 2x^3\\,dx = \\frac{1}{2}$. $\\text{Var}(X) = \\frac{1}{2} - \\frac{4}{9} = \\frac{9-8}{18} = \\frac{1}{18}$',
    marks: 3,
  },
  {
    id: 'continuous-pdf-l2-4',
    nodeId: 'continuous-pdf',
    level: 2,
    title: 'Median of a Distribution',
    text: 'For the PDF $f(x) = 3(1-x)^2$ on $[0,1]$, find the median $m$.',
    hints: ['Solve $\\int_0^m 3(1-x)^2\\,dx = 0.5$'],
    answer: '$\\int_0^m 3(1-x)^2\\,dx = [-(1-x)^3]_0^m = 1-(1-m)^3 = 0.5$. $(1-m)^3 = 0.5$. $m = 1 - 0.5^{1/3} = 1 - \\frac{1}{\\sqrt[3]{2}} \\approx 0.206$',
    marks: 3,
  },
  // Level 3
  {
    id: 'continuous-pdf-l3-1',
    nodeId: 'continuous-pdf',
    level: 3,
    title: 'Piecewise PDF',
    text: 'A random variable has PDF $f(x) = \\begin{cases} cx & 0 \\leq x \\leq 2 \\\\ c(4-x) & 2 < x \\leq 4 \\\\ 0 & \\text{otherwise} \\end{cases}$. Find $c$ and $\\Pr(1 < X < 3)$.',
    hints: [
      'The total area must equal 1. The PDF is triangular.',
      'By symmetry about $x=2$, $\\int_0^4 f(x)\\,dx = 2\\int_0^2 cx\\,dx$',
    ],
    answer: '$\\int_0^2 cx\\,dx + \\int_2^4 c(4-x)\\,dx = 2c + 2c = 4c = 1$, so $c = \\frac{1}{4}$. $\\Pr(1<X<3) = \\int_1^2 \\frac{x}{4}\\,dx + \\int_2^3 \\frac{4-x}{4}\\,dx = \\frac{1}{4}\\left(\\frac{3}{2}\\right) + \\frac{1}{4}\\left(\\frac{3}{2}\\right) = \\frac{3}{4}$',
    marks: 4,
  },
  {
    id: 'continuous-pdf-l3-2',
    nodeId: 'continuous-pdf',
    level: 3,
    title: 'Exponential Distribution',
    text: 'The time (in hours) until a light bulb fails follows an exponential distribution with mean 500 hours. Find the probability that the bulb lasts more than 600 hours.',
    hints: [
      'Exponential PDF: $f(x) = \\lambda e^{-\\lambda x}$ with $\\lambda = \\frac{1}{500}$',
      '$\\Pr(X > t) = e^{-\\lambda t}$',
    ],
    answer: '$\\Pr(X > 600) = e^{-600/500} = e^{-1.2} \\approx 0.3012$',
    marks: 4,
  },
  {
    id: 'continuous-pdf-l3-3',
    nodeId: 'continuous-pdf',
    level: 3,
    title: 'Transformation of a Continuous RV',
    text: 'If $X$ has PDF $f(x) = 2x$ for $0 \\leq x \\leq 1$, find the PDF of $Y = X^2$.',
    hints: [
      'Find the CDF of $Y$: $F_Y(y) = \\Pr(X^2 \\leq y) = \\Pr(X \\leq \\sqrt{y})$',
      'Differentiate to get the PDF',
    ],
    answer: '$F_Y(y) = \\Pr(X \\leq \\sqrt{y}) = \\int_0^{\\sqrt{y}} 2x\\,dx = y$ for $0 \\leq y \\leq 1$. $f_Y(y) = F_Y\'(y) = 1$ for $0 \\leq y \\leq 1$. So $Y \\sim \\text{Uniform}(0,1)$.',
    marks: 4,
  },
  // Level 4
  {
    id: 'continuous-pdf-l4-1',
    nodeId: 'continuous-pdf',
    level: 4,
    title: 'MGF of a Continuous Distribution',
    text: 'If $X$ has PDF $f(x) = 2e^{-2x}$ for $x \\geq 0$, find the moment generating function $M_X(t)$ and use it to find $E(X)$ and $\\text{Var}(X)$.',
    hints: [
      '$M_X(t) = \\int_0^\\infty e^{tx} \\cdot 2e^{-2x}\\,dx$ (converges for $t < 2$)',
    ],
    answer: '$M_X(t) = \\int_0^\\infty 2e^{-(2-t)x}\\,dx = \\frac{2}{2-t}$ for $t < 2$. $M\'(t) = \\frac{2}{(2-t)^2}$, so $E(X) = M\'(0) = \\frac{1}{2}$. $M\'\'(t) = \\frac{4}{(2-t)^3}$, $E(X^2) = M\'\'(0) = \\frac{1}{2}$. $\\text{Var}(X) = \\frac{1}{2} - \\frac{1}{4} = \\frac{1}{4}$.',
    marks: 5,
  },
  {
    id: 'continuous-pdf-l4-2',
    nodeId: 'continuous-pdf',
    level: 4,
    title: 'Joint to Marginal',
    text: 'Two random variables have joint PDF $f(x,y) = 6(1-y)$ for $0 \\leq x \\leq y \\leq 1$. Find the marginal PDF $f_X(x)$ and $E(X)$.',
    hints: [
      '$f_X(x) = \\int_x^1 6(1-y)\\,dy$',
    ],
    answer: '$f_X(x) = \\int_x^1 6(1-y)\\,dy = 6\\left[y - \\frac{y^2}{2}\\right]_x^1 = 6\\left(\\frac{1}{2} - x + \\frac{x^2}{2}\\right) = 3(1-x)^2$. $E(X) = \\int_0^1 3x(1-x)^2\\,dx = 3\\int_0^1 (x - 2x^2 + x^3)\\,dx = 3\\left(\\frac{1}{2} - \\frac{2}{3} + \\frac{1}{4}\\right) = 3 \\cdot \\frac{1}{12} = \\frac{1}{4}$.',
    marks: 5,
  },
  {
    id: 'continuous-pdf-l4-3',
    nodeId: 'continuous-pdf',
    level: 4,
    title: 'Memoryless Property',
    text: 'Let $X \\sim \\text{Exp}(\\lambda)$. Prove that $\\Pr(X > s + t | X > s) = \\Pr(X > t)$ for all $s, t > 0$.',
    hints: [
      'Use the definition of conditional probability and $\\Pr(X > a) = e^{-\\lambda a}$',
    ],
    answer: '$\\Pr(X > s+t | X > s) = \\frac{\\Pr(X > s+t)}{\\Pr(X > s)} = \\frac{e^{-\\lambda(s+t)}}{e^{-\\lambda s}} = e^{-\\lambda t} = \\Pr(X > t)$. $\\blacksquare$',
    marks: 5,
  },
  // Level 5
  {
    id: 'continuous-pdf-l5-1',
    nodeId: 'continuous-pdf',
    level: 5,
    title: 'PDF of Maximum of Uniforms',
    text: 'Let $X_1, X_2, \\ldots, X_n$ be independent $\\text{Uniform}(0,1)$ random variables. Find the PDF of $M = \\max(X_1, \\ldots, X_n)$ and compute $E(M)$.',
    hints: [
      '$F_M(m) = \\Pr(\\text{all } X_i \\leq m) = m^n$',
      'Differentiate for the PDF, then integrate $\\int_0^1 m \\cdot nm^{n-1}\\,dm$',
    ],
    answer: '$F_M(m) = m^n$ for $0 \\leq m \\leq 1$. $f_M(m) = nm^{n-1}$. $E(M) = \\int_0^1 nm^n\\,dm = \\frac{n}{n+1}$.',
    marks: 6,
  },
  {
    id: 'continuous-pdf-l5-2',
    nodeId: 'continuous-pdf',
    level: 5,
    title: 'Convolution of Uniform RVs',
    text: 'Let $X, Y$ be independent $\\text{Uniform}(0,1)$. Find the PDF of $S = X + Y$ using convolution.',
    hints: [
      '$f_S(s) = \\int_{-\\infty}^{\\infty} f_X(t) f_Y(s-t)\\,dt$',
      'Consider cases $0 \\leq s \\leq 1$ and $1 < s \\leq 2$ separately',
    ],
    answer: 'For $0 \\leq s \\leq 1$: $f_S(s) = \\int_0^s 1 \\cdot 1\\,dt = s$. For $1 < s \\leq 2$: $f_S(s) = \\int_{s-1}^1 1\\,dt = 2 - s$. So $f_S(s) = \\begin{cases} s & 0 \\leq s \\leq 1 \\\\ 2-s & 1 < s \\leq 2 \\end{cases}$, a triangular distribution.',
    marks: 6,
  },
];

export default questions;
