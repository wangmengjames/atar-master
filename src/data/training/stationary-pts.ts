import type { TrainingQuestion } from './types';

const questions: TrainingQuestion[] = [
  // Level 1
  {
    id: 'stationary-pts-l1-q1',
    nodeId: 'stationary-pts',
    level: 1,
    title: 'Finding stationary points',
    text: 'Find the stationary point of $y = x^2 - 6x + 5$.',
    hints: ['Set $\\frac{dy}{dx} = 0$', '$\\frac{dy}{dx} = 2x - 6$'],
    answer: '$2x - 6 = 0 \\Rightarrow x = 3$. $y = 9 - 18 + 5 = -4$. Stationary point is $(3, -4)$.',
    marks: 2,
  },
  {
    id: 'stationary-pts-l1-q2',
    nodeId: 'stationary-pts',
    level: 1,
    title: 'Nature using second derivative',
    text: 'Determine the nature of the stationary point of $y = x^2 - 4x + 7$.',
    hints: ['Find $\\frac{d^2y}{dx^2}$', 'If $\\frac{d^2y}{dx^2} > 0$ it is a minimum'],
    answer: '$\\frac{dy}{dx} = 2x - 4 = 0 \\Rightarrow x = 2$. $\\frac{d^2y}{dx^2} = 2 > 0$, so $(2, 3)$ is a local minimum.',
    marks: 2,
  },
  {
    id: 'stationary-pts-l1-q3',
    nodeId: 'stationary-pts',
    level: 1,
    title: 'Identify the type',
    text: 'If $\\frac{d^2y}{dx^2} = -6$ at a stationary point, what type of stationary point is it?',
    hints: ['Negative second derivative means concave down'],
    answer: 'Local maximum.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: 'Local minimum', correct: false },
      { label: 'B', text: 'Local maximum', correct: true },
      { label: 'C', text: 'Point of inflection', correct: false },
      { label: 'D', text: 'Cannot be determined', correct: false },
    ],
  },
  {
    id: 'stationary-pts-l1-q4',
    nodeId: 'stationary-pts',
    level: 1,
    title: 'Stationary point of a cubic',
    text: 'Find the $x$-coordinates of the stationary points of $y = x^3 - 12x$.',
    hints: ['$\\frac{dy}{dx} = 3x^2 - 12$'],
    answer: '$3x^2 - 12 = 0 \\Rightarrow x^2 = 4 \\Rightarrow x = \\pm 2$.',
    marks: 2,
  },
  // Level 2
  {
    id: 'stationary-pts-l2-q1',
    nodeId: 'stationary-pts',
    level: 2,
    title: 'Classify stationary points of a cubic',
    text: 'Find and classify all stationary points of $y = x^3 - 3x^2 - 9x + 5$.',
    hints: ['$\\frac{dy}{dx} = 3x^2 - 6x - 9 = 3(x-3)(x+1)$', 'Use the second derivative test'],
    answer: '$\\frac{dy}{dx} = 3x^2 - 6x - 9 = 0 \\Rightarrow x = 3$ or $x = -1$. $\\frac{d^2y}{dx^2} = 6x - 6$. At $x = -1$: $\\frac{d^2y}{dx^2} = -12 < 0$ → local max at $(-1, 10)$. At $x = 3$: $\\frac{d^2y}{dx^2} = 12 > 0$ → local min at $(3, -22)$.',
    marks: 4,
  },
  {
    id: 'stationary-pts-l2-q2',
    nodeId: 'stationary-pts',
    level: 2,
    title: 'Point of inflection',
    text: 'Find the point of inflection of $y = x^3 - 6x^2 + 12x - 3$.',
    hints: ['Set $\\frac{d^2y}{dx^2} = 0$', 'Check that concavity changes'],
    answer: '$\\frac{d^2y}{dx^2} = 6x - 12 = 0 \\Rightarrow x = 2$. $y(2) = 8 - 24 + 24 - 3 = 5$. Concavity changes (negative for $x < 2$, positive for $x > 2$), so $(2, 5)$ is a point of inflection.',
    marks: 3,
  },
  {
    id: 'stationary-pts-l2-q3',
    nodeId: 'stationary-pts',
    level: 2,
    title: 'Stationary point with parameter',
    text: 'The curve $y = x^2 + bx + 3$ has a stationary point at $x = 4$. Find $b$.',
    hints: ['$\\frac{dy}{dx} = 2x + b = 0$ at $x = 4$'],
    answer: '$2(4) + b = 0 \\Rightarrow b = -8$.',
    marks: 2,
  },
  {
    id: 'stationary-pts-l2-q4',
    nodeId: 'stationary-pts',
    level: 2,
    title: 'Global extrema on an interval',
    text: 'Find the absolute maximum and minimum of $f(x) = x^3 - 3x + 1$ on $[-2, 2]$.',
    hints: ['Check stationary points and endpoints', 'Evaluate $f(-2), f(-1), f(1), f(2)$'],
    answer: '$f\'(x) = 3x^2 - 3 = 0 \\Rightarrow x = \\pm 1$. $f(-2) = -1$, $f(-1) = 3$, $f(1) = -1$, $f(2) = 3$. Absolute max $= 3$ at $x = -1$ and $x = 2$. Absolute min $= -1$ at $x = -2$ and $x = 1$.',
    marks: 4,
  },
  // Level 3
  {
    id: 'stationary-pts-l3-q1',
    nodeId: 'stationary-pts',
    level: 3,
    title: 'Quartic stationary points',
    text: 'Find and classify all stationary points of $y = x^4 - 8x^2 + 16$.',
    hints: ['$\\frac{dy}{dx} = 4x^3 - 16x = 4x(x^2 - 4)$', 'Use second derivative test'],
    answer: '$4x(x-2)(x+2) = 0$, so $x = 0, \\pm 2$. $\\frac{d^2y}{dx^2} = 12x^2 - 16$. At $x = 0$: $-16 < 0$ → local max $(0, 16)$. At $x = 2$: $32 > 0$ → local min $(2, 0)$. At $x = -2$: $32 > 0$ → local min $(-2, 0)$.',
    marks: 5,
  },
  {
    id: 'stationary-pts-l3-q2',
    nodeId: 'stationary-pts',
    level: 3,
    title: 'Stationary point involving $e^x$',
    text: 'Find the stationary point of $y = xe^{-x}$ and classify it.',
    hints: ['Use the product rule', '$\\frac{dy}{dx} = e^{-x} - xe^{-x} = e^{-x}(1 - x)$'],
    answer: '$\\frac{dy}{dx} = e^{-x}(1-x) = 0 \\Rightarrow x = 1$ (since $e^{-x} \\neq 0$). $y(1) = e^{-1}$. $\\frac{d^2y}{dx^2} = e^{-x}(x - 2)$, at $x = 1$: $e^{-1}(-1) < 0$ → local max at $(1, e^{-1})$.',
    marks: 4,
  },
  {
    id: 'stationary-pts-l3-q3',
    nodeId: 'stationary-pts',
    level: 3,
    title: 'Stationary inflection',
    text: 'Show that $y = x^3$ has a stationary point of inflection at the origin.',
    hints: ['Check $\\frac{dy}{dx} = 0$ and $\\frac{d^2y}{dx^2} = 0$ at $x = 0$', 'Verify sign change of $\\frac{dy}{dx}$ or concavity'],
    answer: '$\\frac{dy}{dx} = 3x^2 = 0$ at $x = 0$ ✓. $\\frac{d^2y}{dx^2} = 6x = 0$ at $x = 0$. For $x < 0$, $\\frac{d^2y}{dx^2} < 0$ (concave down); for $x > 0$, $\\frac{d^2y}{dx^2} > 0$ (concave up). Concavity changes, so $(0, 0)$ is a stationary point of inflection.',
    marks: 4,
  },
  // Level 4
  {
    id: 'stationary-pts-l4-q1',
    nodeId: 'stationary-pts',
    level: 4,
    title: 'Stationary points with parameters',
    text: 'The function $f(x) = x^3 + ax^2 + bx + 1$ has a stationary point at $(1, -1)$. Find $a$ and $b$.',
    hints: ['Use $f(1) = -1$ and $f\'(1) = 0$', 'This gives two simultaneous equations'],
    answer: '$f(1) = 1 + a + b + 1 = -1 \\Rightarrow a + b = -3$. $f\'(x) = 3x^2 + 2ax + b$, $f\'(1) = 3 + 2a + b = 0$. From the equations: $a + b = -3$ and $2a + b = -3$, so $a = 0$ and $b = -3$.',
    marks: 4,
  },
  {
    id: 'stationary-pts-l4-q2',
    nodeId: 'stationary-pts',
    level: 4,
    title: 'Logarithmic function extremum',
    text: 'Find the maximum value of $f(x) = \\ln(x) - x$ for $x > 0$.',
    hints: ['$f\'(x) = \\frac{1}{x} - 1$', 'Check the second derivative'],
    answer: '$f\'(x) = \\frac{1}{x} - 1 = 0 \\Rightarrow x = 1$. $f\'\'(x) = -\\frac{1}{x^2}$, at $x = 1$: $f\'\'(1) = -1 < 0$ → max. $f(1) = \\ln(1) - 1 = -1$. Maximum value is $-1$.',
    marks: 4,
  },
  {
    id: 'stationary-pts-l4-q3',
    nodeId: 'stationary-pts',
    level: 4,
    title: 'Rational function stationary points',
    text: 'Find the stationary points of $y = \\frac{x^2}{x + 1}$ and classify them.',
    hints: ['Use the quotient rule', '$\\frac{dy}{dx} = \\frac{x(x + 2)}{(x + 1)^2}$'],
    answer: '$\\frac{dy}{dx} = \\frac{2x(x+1) - x^2}{(x+1)^2} = \\frac{x^2 + 2x}{(x+1)^2} = \\frac{x(x+2)}{(x+1)^2} = 0$. So $x = 0$ or $x = -2$. At $x = 0$: $y = 0$. Sign test shows min. At $x = -2$: $y = \\frac{4}{-1} = -4$. Sign test shows max. Local min $(0, 0)$, local max $(-2, -4)$.',
    marks: 5,
  },
  // Level 5
  {
    id: 'stationary-pts-l5-q1',
    nodeId: 'stationary-pts',
    level: 5,
    title: 'Curve sketching with all features',
    text: 'For $f(x) = x^4 - 4x^3 + 6$, find all stationary points, points of inflection, and describe the behaviour as $x \\to \\pm\\infty$. Sketch the curve.',
    hints: ['$f\'(x) = 4x^3 - 12x^2 = 4x^2(x - 3)$', '$f\'\'(x) = 12x^2 - 24x = 12x(x - 2)$'],
    answer: '$f\'(x) = 4x^2(x-3) = 0$ gives $x = 0$ (stationary inflection) and $x = 3$. $f\'\'(3) = 108 - 72 = 36 > 0$ → local min at $(3, -21)$. At $x = 0$: $f\'\'(0) = 0$ and sign of $f\'$ doesn\'t change → stationary inflection at $(0, 6)$. $f\'\'(x) = 12x(x-2) = 0$ at $x = 0, 2$. Non-stationary inflection at $(2, -10)$. As $x \\to \\pm\\infty$, $f(x) \\to +\\infty$.',
    marks: 6,
  },
  {
    id: 'stationary-pts-l5-q2',
    nodeId: 'stationary-pts',
    level: 5,
    title: 'Families of curves',
    text: 'For what values of $k$ does $f(x) = x^3 - 3kx + 2$ have two distinct stationary points?',
    hints: ['$f\'(x) = 3x^2 - 3k = 0$ needs two real solutions', 'Consider when $k > 0$'],
    answer: '$f\'(x) = 3x^2 - 3k = 0 \\Rightarrow x^2 = k$. For two distinct real solutions, $k > 0$. When $k > 0$, stationary points at $x = \\pm\\sqrt{k}$, which are distinct. So $k > 0$.',
    marks: 5,
  },
];

export default questions;
