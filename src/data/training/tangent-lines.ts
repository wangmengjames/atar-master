import type { TrainingQuestion } from './types';

const questions: TrainingQuestion[] = [
  // Level 1
  {
    id: 'tangent-lines-l1-q1',
    nodeId: 'tangent-lines',
    level: 1,
    title: 'Gradient at a point',
    text: 'Find the gradient of the curve $y = x^2$ at the point where $x = 3$.',
    hints: ['Differentiate $y = x^2$ to get $\\frac{dy}{dx}$', 'Substitute $x = 3$'],
    answer: '$\\frac{dy}{dx} = 2x$, so at $x = 3$, the gradient is $2(3) = 6$.',
    marks: 2,
  },
  {
    id: 'tangent-lines-l1-q2',
    nodeId: 'tangent-lines',
    level: 1,
    title: 'Equation of a tangent line',
    text: 'Find the equation of the tangent to $y = x^2$ at the point $(2, 4)$.',
    hints: ['Find $\\frac{dy}{dx}$', 'Use $y - y_1 = m(x - x_1)$'],
    answer: '$\\frac{dy}{dx} = 2x$, so $m = 4$. Tangent: $y - 4 = 4(x - 2)$, i.e. $y = 4x - 4$.',
    marks: 3,
  },
  {
    id: 'tangent-lines-l1-q3',
    nodeId: 'tangent-lines',
    level: 1,
    title: 'Tangent to a cubic',
    text: 'Find the equation of the tangent to $y = x^3$ at $x = 1$.',
    hints: ['Differentiate to find the gradient', 'Find the $y$-coordinate at $x = 1$'],
    answer: '$\\frac{dy}{dx} = 3x^2$, so $m = 3$. Point is $(1, 1)$. Tangent: $y = 3x - 2$.',
    marks: 3,
  },
  {
    id: 'tangent-lines-l1-q4',
    nodeId: 'tangent-lines',
    level: 1,
    title: 'Normal line concept',
    text: 'The tangent to a curve at a point has gradient $4$. What is the gradient of the normal at that point?',
    hints: ['The normal is perpendicular to the tangent', '$m_1 \\times m_2 = -1$'],
    answer: 'Gradient of normal $= -\\frac{1}{4}$.',
    marks: 1,
    isMultipleChoice: true,
    options: [
      { label: 'A', text: '$4$', correct: false },
      { label: 'B', text: '$-4$', correct: false },
      { label: 'C', text: '$-\\frac{1}{4}$', correct: true },
      { label: 'D', text: '$\\frac{1}{4}$', correct: false },
    ],
  },
  // Level 2
  {
    id: 'tangent-lines-l2-q1',
    nodeId: 'tangent-lines',
    level: 2,
    title: 'Tangent to a polynomial',
    text: 'Find the equation of the tangent to $y = 2x^3 - 5x + 1$ at $x = 1$.',
    hints: ['Differentiate: $\\frac{dy}{dx} = 6x^2 - 5$', 'Find $y(1)$ and use point-gradient form'],
    answer: '$y(1) = 2 - 5 + 1 = -2$. $\\frac{dy}{dx} = 6(1)^2 - 5 = 1$. Tangent: $y + 2 = 1(x - 1)$, i.e. $y = x - 3$.',
    marks: 3,
  },
  {
    id: 'tangent-lines-l2-q2',
    nodeId: 'tangent-lines',
    level: 2,
    title: 'Equation of a normal',
    text: 'Find the equation of the normal to $y = x^2 + 3x$ at the point where $x = 2$.',
    hints: ['Find the gradient of the tangent first', 'Normal gradient is the negative reciprocal'],
    answer: '$y(2) = 10$. $\\frac{dy}{dx} = 2x + 3 = 7$. Normal gradient $= -\\frac{1}{7}$. Normal: $y - 10 = -\\frac{1}{7}(x - 2)$, i.e. $y = -\\frac{1}{7}x + \\frac{72}{7}$.',
    marks: 4,
  },
  {
    id: 'tangent-lines-l2-q3',
    nodeId: 'tangent-lines',
    level: 2,
    title: 'Horizontal tangent',
    text: 'Find the coordinates of the point(s) on $y = x^3 - 3x + 2$ where the tangent is horizontal.',
    hints: ['Horizontal tangent means $\\frac{dy}{dx} = 0$', 'Solve $3x^2 - 3 = 0$'],
    answer: '$3x^2 - 3 = 0 \\Rightarrow x = \\pm 1$. Points: $(1, 0)$ and $(-1, 4)$.',
    marks: 3,
  },
  {
    id: 'tangent-lines-l2-q4',
    nodeId: 'tangent-lines',
    level: 2,
    title: 'Tangent with given gradient',
    text: 'Find the point on $y = x^2 - 4x$ where the tangent has gradient $6$.',
    hints: ['Set $\\frac{dy}{dx} = 6$'],
    answer: '$\\frac{dy}{dx} = 2x - 4 = 6 \\Rightarrow x = 5$. $y = 25 - 20 = 5$. Point is $(5, 5)$.',
    marks: 3,
  },
  // Level 3
  {
    id: 'tangent-lines-l3-q1',
    nodeId: 'tangent-lines',
    level: 3,
    title: 'Tangent involving square root',
    text: 'Find the equation of the tangent to $y = \\sqrt{x}$ at $x = 9$.',
    hints: ['Write as $y = x^{1/2}$', '$\\frac{dy}{dx} = \\frac{1}{2\\sqrt{x}}$'],
    answer: '$y(9) = 3$. $\\frac{dy}{dx} = \\frac{1}{2\\sqrt{9}} = \\frac{1}{6}$. Tangent: $y - 3 = \\frac{1}{6}(x - 9)$, i.e. $y = \\frac{1}{6}x + \\frac{3}{2}$.',
    marks: 4,
  },
  {
    id: 'tangent-lines-l3-q2',
    nodeId: 'tangent-lines',
    level: 3,
    title: 'Tangent to $e^x$ curve',
    text: 'Find the equation of the tangent to $y = e^{2x}$ at $x = 0$.',
    hints: ['Use the chain rule: $\\frac{dy}{dx} = 2e^{2x}$'],
    answer: '$y(0) = 1$. $\\frac{dy}{dx} = 2e^0 = 2$. Tangent: $y = 2x + 1$.',
    marks: 3,
  },
  {
    id: 'tangent-lines-l3-q3',
    nodeId: 'tangent-lines',
    level: 3,
    title: 'Normal line intersection',
    text: 'The normal to $y = x^2$ at the point $(2, 4)$ meets the $x$-axis at point $P$. Find the coordinates of $P$.',
    hints: ['Find the normal equation first', 'Set $y = 0$ to find where it crosses the $x$-axis'],
    answer: 'Tangent gradient $= 4$, normal gradient $= -\\frac{1}{4}$. Normal: $y - 4 = -\\frac{1}{4}(x - 2)$. Set $y = 0$: $-4 = -\\frac{1}{4}(x - 2) \\Rightarrow x = 18$. $P = (18, 0)$.',
    marks: 4,
  },
  // Level 4
  {
    id: 'tangent-lines-l4-q1',
    nodeId: 'tangent-lines',
    level: 4,
    title: 'Tangent from an external point',
    text: 'Find the equations of the tangent lines to $y = x^2$ that pass through the point $(0, -1)$.',
    hints: ['Let the point of tangency be $(a, a^2)$', 'The tangent at $(a, a^2)$ is $y = 2a x - a^2$', 'Substitute $(0, -1)$'],
    answer: 'Tangent at $(a, a^2)$: $y - a^2 = 2a(x - a)$, i.e. $y = 2ax - a^2$. Passes through $(0, -1)$: $-1 = -a^2 \\Rightarrow a = \\pm 1$. Tangents: $y = 2x - 1$ and $y = -2x - 1$.',
    marks: 5,
  },
  {
    id: 'tangent-lines-l4-q2',
    nodeId: 'tangent-lines',
    level: 4,
    title: 'Tangent to trigonometric curve',
    text: 'Find the equation of the tangent to $y = \\sin(x)$ at $x = \\frac{\\pi}{3}$.',
    hints: ['$\\frac{dy}{dx} = \\cos(x)$', '$\\cos\\left(\\frac{\\pi}{3}\\right) = \\frac{1}{2}$'],
    answer: '$y\\left(\\frac{\\pi}{3}\\right) = \\frac{\\sqrt{3}}{2}$. $m = \\cos\\left(\\frac{\\pi}{3}\\right) = \\frac{1}{2}$. Tangent: $y - \\frac{\\sqrt{3}}{2} = \\frac{1}{2}\\left(x - \\frac{\\pi}{3}\\right)$.',
    marks: 4,
  },
  {
    id: 'tangent-lines-l4-q3',
    nodeId: 'tangent-lines',
    level: 4,
    title: 'Tangent to a log function',
    text: 'Find the equation of the tangent to $y = \\ln(2x + 1)$ at $x = 0$.',
    hints: ['$\\frac{dy}{dx} = \\frac{2}{2x + 1}$'],
    answer: '$y(0) = \\ln(1) = 0$. $\\frac{dy}{dx} = \\frac{2}{1} = 2$. Tangent: $y = 2x$.',
    marks: 4,
  },
  // Level 5
  {
    id: 'tangent-lines-l5-q1',
    nodeId: 'tangent-lines',
    level: 5,
    title: 'Tangent and area',
    text: 'The tangent to $y = x^3$ at the point $(1, 1)$ meets the curve again at point $Q$. Find the coordinates of $Q$ and the area enclosed between the tangent and the curve.',
    hints: ['Tangent: $y = 3x - 2$', 'Solve $x^3 = 3x - 2$, factor out $(x-1)^2$', 'Integrate $|x^3 - (3x - 2)|$ between intersections'],
    answer: '$y\' = 3x^2$, so $m = 3$. Tangent: $y = 3x - 2$. Solve $x^3 - 3x + 2 = 0$: $(x - 1)^2(x + 2) = 0$, so $Q = (-2, -8)$. Area $= \\int_{-2}^{1} [(3x - 2) - x^3]\\,dx = \\left[\\frac{3x^2}{2} - 2x - \\frac{x^4}{4}\\right]_{-2}^{1} = \\frac{27}{4}$.',
    marks: 6,
  },
  {
    id: 'tangent-lines-l5-q2',
    nodeId: 'tangent-lines',
    level: 5,
    title: 'Two curves with common tangent',
    text: 'Find the value of $a$ such that the curves $y = x^2$ and $y = ax^3$ have a common tangent line at some point with $x > 0$.',
    hints: ['At the common point, both $y$ values and both gradients must be equal', 'Set $x^2 = ax^3$ and $2x = 3ax^2$'],
    answer: 'From $x^2 = ax^3$: $x = \\frac{1}{a}$ (since $x > 0$). From $2x = 3ax^2$: $x = \\frac{2}{3a}$. Setting equal: $\\frac{1}{a} = \\frac{2}{3a}$, which gives a contradiction. Instead: from $2x = 3ax^2$, $a = \\frac{2}{3x}$. Sub into $x^2 = ax^3$: $x^2 = \\frac{2x^2}{3}$, contradiction. Re-examining: at point $x_0 > 0$, $x_0^2 = ax_0^3 \\Rightarrow a = \\frac{1}{x_0}$. Also $2x_0 = 3ax_0^2 = \\frac{3x_0^2}{x_0} = 3x_0$. This requires $2 = 3$, impossible. So the tangent lines must touch different points on each curve. Let tangent touch $y = x^2$ at $(p, p^2)$ and $y = ax^3$ at $(q, aq^3)$. Gradients: $2p = 3aq^2$. Same tangent line: $y = 2p(x - p) + p^2$ and $y = 3aq^2(x - q) + aq^3$. Equal: $2p = 3aq^2$ and $-p^2 = -2aq^3$. From these: $p^2 = 2aq^3$ and $2p = 3aq^2$. So $p = \\frac{3aq^2}{2}$ and $\\frac{9a^2q^4}{4} = 2aq^3$, giving $a = \\frac{8}{9q}$. Then $p = \\frac{3 \\cdot \\frac{8}{9q} \\cdot q^2}{2} = \\frac{4q}{3}$. $a = \\frac{8}{9q}$. For a unique answer, we need an additional constraint. With $q = 1$: $a = \\frac{8}{9}$.',
    marks: 6,
  },
];

export default questions;
